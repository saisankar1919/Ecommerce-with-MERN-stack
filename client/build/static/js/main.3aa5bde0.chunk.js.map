{"version":3,"sources":["firebase.js","functions/auth.js","pages/auth/Login.js","pages/auth/Register.js","functions/product.js","functions/rating.js","components/cards/ProductCard.js","components/cards/LoadingCard.js","components/home/NewArrivals.js","functions/category.js","components/category/CategoryList.js","functions/sub.js","components/HomeCards.js","pages/Home.js","components/forms/Search.js","components/nav/Header.js","components/drawer/SideDrawer.js","pages/auth/RegisterComplete.js","pages/auth/ForgotPassword.js","components/nav/UserNav.js","functions/user.js","components/cards/ShowPaymentInfo.js","components/order/Invoice.js","pages/user/History.js","components/routes/LoadingToRedirect.js","components/routes/UserRoute.js","components/routes/AdminRoute.js","pages/user/Password.js","pages/user/Wishlist.js","components/nav/AdminNav.js","functions/admin.js","components/order/Orders.js","pages/admin/AdminDashboard.js","components/forms/CategoryForm.js","components/forms/LocalSearch.js","pages/admin/category/CategoryCreate.js","pages/admin/category/CategoryUpdate.js","pages/admin/sub/SubCreate.js","pages/admin/sub/SubUpdate.js","components/forms/ProductCreateForm.js","components/forms/ImageCropperModal.js","components/forms/FileUpload.js","pages/admin/product/ProductCreate.js","pages/admin/product/AllProducts.js","components/cards/AdminProductCard.js","components/forms/ProductUpdateForm.js","pages/admin/product/ProductUpdate.js","components/cards/ProductListItems.js","components/modal/RatingModal.js","components/cards/SingleProduct.js","pages/Product.js","pages/category/CategoryHome.js","pages/sub/SubHome.js","components/forms/Star.js","pages/Shop.js","components/cards/ProductCardInCheckout.js","pages/Cart.js","pages/Checkout.js","functions/coupon.js","pages/admin/coupon/CreateCouponPage.js","functions/offer.js","pages/admin/offer/CreateOfferPage.js","components/StripeCheckout.js","functions/stripe.js","pages/Payment.js","components/nav/AdminHeader.js","pages/admin/SalesReport.js","pages/admin/AdminChartPage.js","functions/profile.js","components/user/UserImage.js","pages/user/Profile.js","pages/admin/UserManagement.js","App.js","serviceWorker.js","reducers/cartReducer.js","reducers/index.js","reducers/userReducer.js","reducers/searchReducer.js","reducers/drawerReducer.js","reducers/couponReducer.js","reducers/CODReducer.js","index.js","images/laptop.png"],"names":["require","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","GoogleAuthProvider","createOrUpdateUser","authtoken","a","axios","post","process","headers","currentUser","currentAdmin","Login","history","useState","email","setEmail","password","setPassword","loading","setLoading","user","useSelector","state","useEffect","location","token","push","dispatch","useDispatch","roleBasedRedirect","res","intended","from","data","role","handleSubmit","e","preventDefault","signInWithEmailAndPassword","result","getIdTokenResult","idTokenResult","then","type","payload","name","_id","catch","err","console","log","toast","error","message","className","onSubmit","value","onChange","target","placeholder","autoFocus","onClick","block","shape","icon","MailOutlined","size","disabled","length","style","backgroundColor","color","to","Register","config","url","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","createProduct","product","getProductsByCount","count","get","removeProduct","slug","delete","getProduct","updateProduct","put","getProducts","sort","order","page","getProductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","showAverage","p","ratings","ratingsArray","total","map","r","reduce","n","starDimension","starSpacing","starRatedColor","rating","editing","Meta","Card","ProductCard","setTooltip","cart","images","title","description","price","offerPrice","boxShadow","cover","src","laptop","height","objectFit","actions","fontSize","getItem","JSON","parse","unique","_","uniqWith","isEqual","stringify","quantity","textDecoration","LoadingCard","totalCards","i","key","active","cards","NewArrivals","products","setProducts","productsCount","setProductsCount","setPage","loadAllProducts","current","getCategories","getCategory","removeCategory","updateCategory","category","createCategory","getCategorySubs","CategoryList","categories","setCategories","c","margin","display","flexWrap","marginRight","getSubs","getSub","removeSub","updateSub","sub","createSub","HomeCards","lg","md","collection","alt","Home","marginTop","class","width","Search","text","search","useHistory","SearchOutlined","cursor","Header","Menu","SubMenu","Item","setCurrent","Navbar","collapseOnSelect","fixed","expand","bg","varient","Container","Toggle","aria-controls","Collapse","id","Nav","Link","marginLeft","NavDropdown","split","variant","drop","signOut","offset","UserAddOutlined","UserOutlined","SideDrawer","drawer","imageStyle","placement","closable","onClose","visible","RegisterComplete","signInWithEmailLink","href","emailVerified","removeItem","updatePassword","ForgotPassword","sendPasswordResetEmail","UserNav","userCart","getUserCart","getUsers","blockUser","unblockUser","emptyUserCart","applyCoupon","coupon","createOrder","stripeResponse","createAddress","address","getUserOrders","getWishlist","deleteAddress","addressId","removeWishlist","addToWishlist","createCashOrderForUser","COD","couponTrueOrFalse","couponApplied","ShowPaymentInfo","showStatus","paymentIntent","status","toUpperCase","orderStatus","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","textAlign","author","marginBottom","subtitle","image","marginVertical","marginHorizontal","header","footer","padding","pageNumber","position","bottom","left","right","Invoice","Date","toLocaleString","getContent","x","created","amount","History","orders","setOrders","loadUserOrders","reverse","scope","showOrderInTable","document","fileName","borderColor","showDownloadLink","LoadingToRedirect","setCount","interval","setInterval","currentCount","clearInterval","UserRoute","children","rest","AdminRoute","ok","setOk","Password","Wishlist","wishlist","setWishlist","loadWishlist","DeleteOutlined","AdminNav","getOrders","changeStatus","orderId","Orders","handleStatusChange","defaultValue","AdminDashboard","loadOrders","CategoryForm","setName","required","LocalSearch","keyword","setKeyword","toLowerCase","CategoryCreate","loadCategories","handleRemove","confirm","response","filter","includes","searched","EditOutlined","CategoryUpdate","match","loadCategory","params","SubCreate","setCategory","subs","setSubs","loadSubs","s","parent","SubUpdate","setParent","loadSub","selected","ProductCreateForm","Select","Option","handleChange","values","setValues","handleCatagoryChange","subOptions","showSub","shipping","colors","brands","brand","ImageCropperModal","isModalVisible","setIsModalVisible","setFiles","srcImg","setResult","setImage","aspect","crop","setCrop","handleOk","getCroppedImg","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","y","base64Image","toDataURL","bodyStyle","onOk","onCancel","maxWidth","onImageLoaded","antIcon","LoadingOutlined","spin","FileUpload","setSrcImg","files","fileUploadAndResize","onImageEdit","imgUrl","fetch","blob","allUploadedFiles","blobFromUrl","Resizer","imageFileResizer","uri","authToken","public_id","filteredImages","getElementById","indicator","multiple","hidden","accept","URL","createObjectURL","showModal","opacity","initialState","ProductCreate","setSubOptions","setShowSub","alert","AllProducts","ProductUpdateForm","handleCategoryChange","selectedCategory","arrayOfSubs","setArrayOfSubs","ProductUpdate","setSelectedCategory","loadProduct","arr","prev","ProductListItems","sold","RatingModal","modalVisible","setModalVisible","useParams","pathname","StarOutlined","centered","TabPane","Tabs","SingleProduct","onStarClick","showArrows","autoPlay","infiniteLoop","tab","ShoppingCartOutlined","HeartOutlined","numberOfStars","changeRating","isSelectable","Product","setProduct","setRelated","setStar","loadSingleProduct","existingRatingObject","find","ele","postedBy","toString","newRating","table","CategoryHome","SubHome","setSub","Star","starClick","starHoverColor","starEmptyColor","Shop","ItemGroup","setPrice","categoryIds","setCategoryIds","setBrand","setColor","setShipping","fetchProducts","delayed","setTimeout","query","clearTimeout","handleCheck","inTheState","justChecked","foundInTheState","indexOf","splice","handleStarClick","num","stars","handleSub","defaultOpenKeys","mode","DollarOutlined","tipFormatter","v","range","max","DownSquareOutlined","maringTop","checked","ProductCardInCheckout","small","large","CloseOutlined","Cart","currentValue","nextValue","Checkout","setTotal","housename","street","city","zip","district","country","setAddress","gettedAddress","setGettedAddress","addressSaved","setAddressSaved","setCoupon","totalAfterDiscount","setTotalAfterDiscount","discountError","setDiscountError","add","setAdd","setFormvalue","loadcart","loadAddress","cartTotal","saveAddressToDb","applyDiscountCoupon","evt","close","addHandler","onValueChange","action","float","maxlength","oninput","pattern","maxLength","getCoupons","removeCoupon","couponId","createCoupon","CreateCouponPage","expiry","setExpiry","discount","setDiscount","coupons","setCoupons","loadAllCoupons","date","toLocaleDateString","getOffers","removeOffer","offerId","createOffer","offer","CreateOfferPage","offers","setOffers","loadAllOffers","StripeCheckout","succeeded","setSucceeded","setError","setProcessing","setCartTotal","setPayable","useStripe","useElements","setSdkReady","createPaymentIntent","payable","Axios","script","async","onload","appendChild","successPaymentHandler","paymentResult","undefined","onSuccess","promise","loadStripe","Payment","props","useLocation","stripe","AdminHeader","SalesReport","startDate","endDate","doc","jsPDF","setFontSize","content","startY","head","elt","orderdBy","pro","createdAt","overflow","valign","columnStyles","0","columnWidth","fontStyle","halign","1","2","3","4","autoTable","save","exportPDF","o","k","AdminChartPage","ordercount","setOrdercount","usercount","setUsercount","productcount","setProductcount","orderCount","userCount","productCount","labels","datasets","label","fill","lineTension","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","innerWidth","pointHitRadius","dataround","hoverBackgroundColor","justifyContent","getUser","updateName","updateMob","mobile","updateImage","UserImage","setPublic_id","handleImageRemove","Profile","setMobile","userInfo","setUserInfo","mobError","setMobError","pin","phone","innerText","onBlur","parseInt","UserManagement","users","setUsers","loadUsers","App","userRole","setUserRole","unsubscribe","onAuthStateChanged","exact","path","component","Boolean","hostname","rootReducer","combineReducers","store","createStore","composeWithDevTools","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.3aa5bde0.chunk.js","sourcesContent":["import firebase from 'firebase'\r\nrequire('firebase/auth')\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAPje1TfhIGfktXoVJSjQyN4lzA-hwfZPQ\",\r\n  authDomain: \"brand-f7fbe.firebaseapp.com\",\r\n  projectId: \"brand-f7fbe\",\r\n  storageBucket: \"brand-f7fbe.appspot.com\",\r\n  messagingSenderId: \"521382684419\",\r\n  appId: \"1:521382684419:web:57ccaf05552da596d12b36\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// export\r\nexport const auth = firebase.auth();\r\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n","import axios from \"axios\";\r\n\r\nexport const createOrUpdateUser = async (authtoken) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_API}/create-or-update-user`,\r\n    {},\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const currentUser = async (authtoken) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_API}/current-user`,\r\n    {},\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\nexport const currentAdmin = async (authtoken) => {\r\n  return await axios.post(\r\n    `${process.env.REACT_APP_API}/current-admin`,\r\n    {},\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth, googleAuthProvider } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"antd\";\r\nimport { MailOutlined, GoogleOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createOrUpdateUser } from \"../../functions/auth\";\r\n// import Box from '@mui/material/Box';\r\n// import TextField from '@mui/material/TextField';\r\n\r\nconst Login = ({ history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    let intended = history.location.state;\r\n    if (intended) {\r\n      return;\r\n    } else {\r\n      if (user && user.token) history.push(\"/\");\r\n    }\r\n  }, [user, history]);\r\n\r\n  let dispatch = useDispatch();\r\n\r\n  const roleBasedRedirect = (res) => {\r\n    // check if intended\r\n    let intended = history.location.state;\r\n    if (intended) {\r\n      history.push(intended.from);\r\n    } else {\r\n      if (res.data.role === \"admin\") {\r\n        history.push(\"/admin/chart\");\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    // console.table(email, password);\r\n    try {\r\n      const result = await auth.signInWithEmailAndPassword(email, password);\r\n      // console.log(result);\r\n      const { user } = result;\r\n      const idTokenResult = await user.getIdTokenResult();\r\n\r\n      createOrUpdateUser(idTokenResult.token)\r\n        .then((res) => {\r\n          dispatch({\r\n            type: \"LOGGED_IN_USER\",\r\n            payload: {\r\n              name: res.data.name,\r\n              email: res.data.email,\r\n              token: idTokenResult.token,\r\n              role: res.data.role,\r\n              _id: res.data._id,\r\n            },\r\n          });\r\n         roleBasedRedirect(res);\r\n        })\r\n        .catch((err) => console.log(err));\r\n\r\n      // history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(error.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const googleLogin = async () => {\r\n    auth\r\n      .signInWithPopup(googleAuthProvider)\r\n      .then(async (result) => {\r\n        const { user } = result;\r\n        const idTokenResult = await user.getIdTokenResult();\r\n        createOrUpdateUser(idTokenResult.token)\r\n          .then((res) => {\r\n            dispatch({\r\n              type: \"LOGGED_IN_USER\",\r\n              payload: {\r\n                name: res.data.name,\r\n                email: res.data.email,\r\n                token: idTokenResult.token,\r\n                role: res.data.role,\r\n                _id: res.data._id,\r\n              },\r\n            });\r\n            roleBasedRedirect(res);\r\n          })\r\n          .catch((err) => console.log(err));\r\n        // history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        toast.error(err.message);\r\n      });\r\n  };\r\n\r\n  const loginForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          placeholder=\"Your email\"\r\n          autoFocus\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Your password\"\r\n          \r\n        />\r\n      </div>\r\n\r\n      <br />\r\n      <Button\r\n        onClick={handleSubmit}\r\n        type=\"primary\"\r\n        className=\"mb-3\"\r\n        block\r\n        shape=\"round\"\r\n        icon={<MailOutlined />}\r\n        size=\"large\"\r\n        disabled={!email || password.length < 6}\r\n        style={{backgroundColor:'rgb(87, 67, 67)', color:'white'}}\r\n      >\r\n        Login with Email/Password\r\n      </Button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container p-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading...</h4>\r\n          ) : (\r\n            <h4>Login</h4>\r\n          )}\r\n          {loginForm()}\r\n\r\n          {/* <Button\r\n            onClick={googleLogin}\r\n            type=\"danger\"\r\n            className=\"mb-3\"\r\n            block\r\n            shape=\"round\"\r\n            icon={<GoogleOutlined />}\r\n            size=\"large\"\r\n          >\r\n            Login with Google\r\n          </Button> */}\r\n       \r\n          <Link to=\"/forgot/password\" style={{color:'rgb(87, 67, 67)'}} className=\"float-right\">\r\n            Forgot Password\r\n          </Link>\r\n       \r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n  ","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Register = ({ history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) history.push(\"/\");\r\n  }, [user, history]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // console.log(\"ENV --->\", process.env.REACT_APP_REGISTER_REDIRECT_URL);\r\n    const config = {\r\n      url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n      handleCodeInApp: true,\r\n    };\r\n\r\n    await auth.sendSignInLinkToEmail(email, config);\r\n    toast.success(\r\n      `Email is sent to ${email}. Click the link to complete your registration.`\r\n    );\r\n    // save user email in local storage\r\n    window.localStorage.setItem(\"emailForRegistration\", email);\r\n    // clear state\r\n    setEmail(\"\");\r\n  };\r\n\r\n  const registerForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"email\"\r\n        className=\"form-control\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        placeholder=\"Your email\"\r\n        autoFocus\r\n      />\r\n\r\n      <br />\r\n      <button type=\"submit\" className=\"btn btn-raised\">\r\n        Register\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container p-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          <h4>Register</h4>\r\n          {registerForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import axios from \"axios\";\r\n\r\nexport const createProduct = async (product, authtoken) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/product`, product, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getProductsByCount = async (count) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/products/${count}`);\r\n\r\nexport const removeProduct = async (slug, authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getProduct = async (slug) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/product/${slug}`);\r\n\r\nexport const updateProduct = async (slug, product, authtoken) =>\r\n  await axios.put(`${process.env.REACT_APP_API}/product/${slug}`, product, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getProducts = async (sort, order, page) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/products`, {\r\n    sort,\r\n    order,\r\n    page,\r\n  });\r\n\r\nexport const getProductsCount = async () =>\r\n  await axios.get(`${process.env.REACT_APP_API}/products/total`);\r\n\r\nexport const productStar = async (productId, star, authtoken) =>\r\n  await axios.put(\r\n    `${process.env.REACT_APP_API}/product/star/${productId}`,\r\n    { star },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const getRelated = async (productId) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/product/related/${productId}`);\r\n\r\nexport const fetchProductsByFilter = async (arg) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\r\n","import React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\nexport const showAverage = (p) => {\r\n  if (p && p.ratings) {\r\n    let ratingsArray = p && p.ratings;\r\n    let total = [];\r\n    let length = ratingsArray.length;\r\n    // console.log(\"length\", length);\r\n\r\n    ratingsArray.map((r) => total.push(r.star));\r\n    let totalReduced = total.reduce((p, n) => p + n, 0);\r\n    // console.log(\"totalReduced\", totalReduced);\r\n\r\n    let highest = length * 5;\r\n    // console.log(\"highest\", highest);\r\n\r\n    let result = (totalReduced * 5) / highest;\r\n    // console.log(\"result\", result);\r\n\r\n    return (\r\n      <div className=\"text-center pt-1 pb-3\">\r\n        <span>\r\n          <StarRating\r\n            starDimension=\"20px\"\r\n            starSpacing=\"2px\"\r\n            starRatedColor=\"red\"\r\n            rating={result}\r\n            editing={false}\r\n          />{\" \"}\r\n          ({p.ratings.length})\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Card, Tooltip } from \"antd\";\r\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport laptop from \"../../images/laptop.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { showAverage } from \"../../functions/rating\";\r\nimport _ from \"lodash\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { MdShoppingCart } from \"react-icons/md\";\r\nimport { AiFillEye } from \"react-icons/ai\";\r\nimport \"./ProductCard.css\";\r\n\r\nconst { Meta } = Card;\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const [tooltip, setTooltip] = useState(\"Click to add\");\r\n\r\n  // redux\r\n  const { user, cart } = useSelector((state) => ({ ...state }));\r\n  const dispatch = useDispatch();\r\n\r\n  const handleAddToCart = () => {\r\n    // create cart array\r\n    let cart = [];\r\n    if (typeof window !== \"undefined\") {\r\n      // if cart is in local storage GET it\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      // push new product to cart\r\n      cart.push({\r\n        ...product,\r\n        count: 1,\r\n      });\r\n      // remove duplicates\r\n      let unique = _.uniqWith(cart, _.isEqual);\r\n      // save to local storage\r\n      // console.log('unique', unique)\r\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n      // show tooltip\r\n      setTooltip(\"Added\");\r\n\r\n      // add to reeux state\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: unique,\r\n      });\r\n      // show cart items in side drawer\r\n      dispatch({\r\n        type: \"SET_VISIBLE\",\r\n        payload: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  // destructure\r\n  const { images, title, description, slug, price, offerPrice } = product;\r\n  return (\r\n    <div>\r\n      <Card className=\"cardHover\" style={{ boxShadow: \"5px 5px 8px 5px #555\" }}\r\n        cover={\r\n          <img\r\n            src={images && images.length ? images[0].url : laptop}\r\n            style={{ height: \"400px\", objectFit: \"cover\",boxShadow: \"5px 5px 8px 5px #555\" }}\r\n            className=\"\"\r\n          />\r\n        }\r\n        actions={[\r\n          <Link style={{ color: \"\", fontSize: \"30px\" }} to={`/product/${slug}`}>\r\n            <AiFillEye style={{ color: \"rgb(87, 67, 67)\" }} />\r\n          </Link>,\r\n         \r\n            <div\r\n              style={{ color: \"\", fontSize: \"30px\" }}\r\n              onClick={handleAddToCart}\r\n              disabled={product.quantity < 1}\r\n            >\r\n              {product.quantity < 1 ? (\r\n               <p style={{color:'red'}}>\"Out of stock\"</p> \r\n              ) : (\r\n                <MdShoppingCart style={{ color: \"rgb(87, 67, 67)\" }} />\r\n              )}\r\n            </div>,\r\n        ]}\r\n      >\r\n       {product && product.ratings && product.ratings.length > 0 ? (\r\n          showAverage(product)\r\n        ) : (\r\n          <div className=\"pt-1 pb-3\">No rating yet</div>\r\n        )}\r\n        {!product.offerPrice ? (\r\n        <div>\r\n          <Meta\r\n          title={`${title}`}\r\n          \r\n          // description={`${description && description.substring(0, 30)}...`}\r\n           \r\n        /> \r\n        <h6>${price}</h6>\r\n        </div>\r\n        \r\n        ):(\r\n        <div>\r\n        <Meta\r\n                  title={`${title}`}\r\n                  // description={`${description && description.substring(0, 30)}...`}\r\n                  />\r\n                  {/* <h7>offer applied</h7> */}\r\n                  <h6><span style={{color:'gray',textDecoration: 'line-through'}}>${offerPrice}</span>  ${price}</h6>\r\n        </div>\r\n        \r\n        )}\r\n        \r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n","import React from \"react\";\r\nimport { Card, Skeleton } from \"antd\";\r\n\r\nconst LoadingCard = ({ count }) => {\r\n  const cards = () => {\r\n    let totalCards = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      totalCards.push(\r\n        <Card className=\"col-md-4\" key={i}>\r\n          <Skeleton active></Skeleton>\r\n        </Card>\r\n      );\r\n    }\r\n\r\n    return totalCards;\r\n  };\r\n\r\n  return <div className=\"row pb-5\">{cards()}</div>;\r\n};\r\n\r\nexport default LoadingCard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { getProducts, getProductsCount } from \"../../functions/product\";\r\nimport ProductCard from \"../cards/ProductCard\";\r\nimport LoadingCard from \"../cards/LoadingCard\";\r\nimport { Pagination } from \"antd\";\r\n// import './NewArrivals.css';\r\n\r\nconst NewArrivals = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [productsCount, setProductsCount] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    getProductsCount().then((res) => setProductsCount(res.data));\r\n  }, []);\r\n\r\n  const loadAllProducts = () => {\r\n    setLoading(true);\r\n    // sort, order, limit\r\n    getProducts(\"createdAt\", \"desc\", page).then((res) => {\r\n      setProducts(res.data);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        {loading ? (\r\n          <LoadingCard count={3} />\r\n        ) : (\r\n          <div className=\"row\">\r\n            {products.map((product) => (\r\n              <div key={product._id} className=\"col-md-4\">\r\n                <ProductCard product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\r\n          <Pagination\r\n            current={page}\r\n            total={(productsCount / 3) * 10}\r\n            onChange={(value) => setPage(value)}\r\n          />\r\n        </nav>\r\n      </div>\r\n      \r\n      \r\n      {/* //........................................................... */}\r\n          </>\r\n  );\r\n};\r\n\r\nexport default NewArrivals;\r\n","import axios from \"axios\";\r\n\r\nexport const getCategories = async () =>\r\n\r\n { \r\n   console.log(`${process.env.REACT_APP_API}/categories`)\r\n return  await axios.get(`${process.env.REACT_APP_API}/categories`);}\r\n\r\nexport const getCategory = async (slug) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/category/${slug}`);\r\n\r\nexport const removeCategory = async (slug, authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const updateCategory = async (slug, category, authtoken) =>\r\n  await axios.put(`${process.env.REACT_APP_API}/category/${slug}`, category, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const createCategory = async (category, authtoken) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/category`, category, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getCategorySubs = async (_id) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);\r\n","// import ButtonGroup from \"antd/lib/button/button-group\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategories } from \"../../functions/category\";\r\n// import { Button,ButtonGroup } from '@material-ui/core';;\r\n\r\nconst CategoryList = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getCategories().then((c) => {\r\n      setCategories(c.data);\r\n      console.log(c)\r\n      setLoading(false);\r\n    }).catch((err)=>console.log(err,\"thisi is s\"));\r\n  }, []);\r\n\r\n  const showCategories = () =>\r\n    categories.map((c) => (\r\n      <div\r\n        key={c._id}\r\n        className=\"col m-3 container\"\r\n      >\r\n        <Link style={{ color: \"black\", margin:'auto' }} to={`/category/${c.slug}`}>\r\n          {c.name}\r\n        </Link>\r\n      </div>\r\n    ));\r\n\r\n  return (\r\n    <div className=\"\" style={{backgroundColor:'rgb(217 206 188)', margin:'auto',boxShadow: '5px 5px 8px 5px #888888'}}>\r\n      <div className=\"container\" style={{display: 'flex',flexWrap:' wrap',marginRight: '-15px'}}>\r\n        {loading ? (\r\n          <h4 className=\"text-center\">Loading...</h4>\r\n        ) : (\r\n          showCategories()\r\n        )}\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryList;\r\n","import axios from \"axios\";\r\n\r\nexport const getSubs = async () =>\r\n  await axios.get(`${process.env.REACT_APP_API}/subs`);\r\n\r\nexport const getSub = async (slug) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/sub/${slug}`);\r\n\r\nexport const removeSub = async (slug, authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/sub/${slug}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const updateSub = async (slug, sub, authtoken) =>\r\n  await axios.put(`${process.env.REACT_APP_API}/sub/${slug}`, sub, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const createSub = async (sub, authtoken) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/sub`, sub, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n","import React from \"react\";\r\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardImage, MDBCardBody, MDBCardTitle, MDBCardText, MDBCardFooter, MDBIcon, MDBTooltip,  MDBBadge, MDBCarousel, MDBCarouselInner, MDBCarouselItem, MDBBtn } from \"mdbreact\";\r\n\r\nconst HomeCards = () => {\r\n  return (\r\n    <section className=\"text-center my-5\">\r\n      {/* <h2 className=\"h1-responsive font-weight-bold text-center my-5\">\r\n        Our bestsellers\r\n      </h2> */}\r\n      <p className=\"grey-text text-center w-responsive mx-auto mb-5\">\r\n      \"Fashion is not necessarily about labels. It's not about brands. It's about something else that comes from within you.\"\r\nRalph Lauren\r\n      </p>\r\n      <MDBRow>\r\n        <MDBCol lg=\"3\" md=\"6\" className=\"mb-lg-0 mb-4\">\r\n          <MDBCard collection className=\"z-depth-1-half\">\r\n            <div className=\"view zoom\">\r\n              <img\r\n                src=\"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/5.jpg\"\r\n                className=\"img-fluid\"\r\n                alt=\"\"\r\n              />\r\n              {/* <div className=\"stripe dark\">\r\n                <a href=\"#!\">\r\n                  <p>\r\n                    Red trousers <MDBIcon icon=\"angle-right\" />\r\n                  </p>\r\n                </a>\r\n              </div> */}\r\n            </div>\r\n          </MDBCard>\r\n        </MDBCol>\r\n        <MDBCol lg=\"3\" md=\"6\" className=\"mb-lg-0 mb-4\">\r\n          <MDBCard collection className=\"z-depth-1-half\">\r\n            <div className=\"view zoom\">\r\n              <img\r\n                src=\"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/8.jpg\"\r\n                className=\"img-fluid\"\r\n                alt=\"\"\r\n              />\r\n              {/* <div className=\"stripe dark\">\r\n                <a href=\"#!\">\r\n                  <p>\r\n                    Sweatshirt <MDBIcon icon=\"angle-right\" />\r\n                  </p>\r\n                </a>\r\n              </div> */}\r\n            </div>\r\n          </MDBCard>\r\n        </MDBCol>\r\n        <MDBCol lg=\"3\" md=\"6\" className=\"mb-lg-0 mb-4\">\r\n          <MDBCard collection className=\"z-depth-1-half\">\r\n            <div className=\"view zoom\">\r\n              <img\r\n                src=\"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/9.jpg\"\r\n                className=\"img-fluid\"\r\n                alt=\"\"\r\n              />\r\n              {/* <div className=\"stripe dark\">\r\n                <a href=\"#!\">\r\n                  <p>\r\n                    Accessories <MDBIcon icon=\"angle-right\" />\r\n                  </p>\r\n                </a>\r\n              </div> */}\r\n            </div>\r\n          </MDBCard>\r\n        </MDBCol>\r\n        <MDBCol lg=\"3\" md=\"6\" className=\"mb-lg-0 mb-4\">\r\n          <MDBCard collection className=\"z-depth-1-half\">\r\n            <div className=\"view zoom\">\r\n              <img\r\n                src=\"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/7.jpg\"\r\n                className=\"img-fluid\"\r\n                alt=\"\"\r\n              />\r\n              {/* <div className=\"stripe dark\">\r\n                <a href=\"#!\">\r\n                  <p>\r\n                    Sweatshirt <MDBIcon icon=\"angle-right\" />\r\n                  </p>\r\n                </a>\r\n              </div> */}\r\n            </div>\r\n          </MDBCard>\r\n        </MDBCol>\r\n      </MDBRow>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default HomeCards;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Tooltip } from \"antd\";\r\nimport Jumbotron from \"../components/cards/Jumbotron\";\r\nimport NewArrivals from \"../components/home/NewArrivals\";\r\nimport BestSellers from \"../components/home/BestSellers\";\r\nimport CategoryList from \"../components/category/CategoryList\";\r\nimport SubList from \"../components/sub/SubList\";\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport \"./Home.css\";\r\nimport HomeCards from \"../components/HomeCards\";\r\nimport ECommercePage from \"../components/ECommercePage\";\r\nimport CartTemplate from \"../components/CartTemplate\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div style={{ marginTop: \"0px\" }}>\r\n      <div class=\"cont\" style={{ boxShadow: \"5px 5px 8px 5px #555\" }}>\r\n        <img src=\"banner5.jpg\" width=\"100%\" alt=\"\" />\r\n        <Link to=\"/shop\">\r\n          <button class=\"btn\">Shop now </button>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* <h4 style={{backgroundColor:'rgb(116 129 138)'}} className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\r\n        Categories\r\n      </h4> */}\r\n      <CategoryList />\r\n      <HomeCards />\r\n\r\n      <h4\r\n        style={{\r\n          backgroundColor: \"linear-gradient(180deg,rgb(116 129 138), white)\",\r\n        }}\r\n        className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\"\r\n      >\r\n        New Arrivals\r\n      </h4>\r\n      <NewArrivals />\r\n      {/* <ECommercePage/> */}\r\n      {/* <CartTemplate/> */}\r\n\r\n      \r\n      \r\n\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\n\r\nconst Search = () => {\r\n  const dispatch = useDispatch();\r\n  const { search } = useSelector((state) => ({ ...state }));\r\n  const { text } = search;\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (e) => {\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: e.target.value },\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    history.push(`/shop?${text}`);\r\n  };\r\n\r\n  return (\r\n     <form className=\"form-inline my-2 my-lg-0\" onSubmit={handleSubmit}>\r\n    <div style={{display:'flex'}}>\r\n      <div>\r\n       <input\r\n        onChange={handleChange}\r\n        type=\"search\"\r\n        value={text}\r\n        className=\"form-control mr-sm-2\"\r\n        placeholder=\"Search\"\r\n      /> \r\n      </div>\r\n      <div style={{marginTop:'5px'}}>\r\n      <SearchOutlined onClick={handleSubmit} style={{ cursor: \"pointer\" }} />\r\n\r\n      </div>\r\n      \r\n    \r\n    \r\n    </div>\r\n    </form> \r\n    \r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useState } from \"react\";\r\nimport { Menu, Badge } from \"antd\";\r\nimport {\r\n  AppstoreOutlined,\r\n  SettingOutlined,\r\n  UserOutlined,\r\n  UserAddOutlined,\r\n  LogoutOutlined,\r\n  ShoppingOutlined,\r\n  ShoppingCartOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport firebase from \"firebase\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Search from \"../forms/Search\";\r\nimport { Navbar, Nav, Container, NavDropdown } from \"react-bootstrap\";\r\n// import NavbarToggle from \"react-bootstrap/esm/NavbarToggle\";\r\n// import NavbarCollapse from \"react-bootstrap/esm/NavbarCollapse\";\r\nimport { AiOutlineUser } from \"react-icons/ai\";\r\nimport { HiOutlineShoppingBag } from \"react-icons/hi\";\r\nimport { BsShopWindow } from \"react-icons/bs\";\r\nimport { FiHeart } from \"react-icons/fi\";\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\nconst Header = () => {\r\n  const [current, setCurrent] = useState(\"home\");\r\n\r\n  let dispatch = useDispatch();\r\n  let { user, cart } = useSelector((state) => ({ ...state }));\r\n\r\n  let history = useHistory();\r\n\r\n  const handleClick = (e) => {\r\n    // console.log(e.key);\r\n    setCurrent(e.key);\r\n  };\r\n\r\n  const logout = () => {\r\n    firebase.auth().signOut();\r\n    dispatch({\r\n      type: \"LOGOUT\",\r\n      payload: null,\r\n    });\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div style={{backgroundColor: '#ebebeb!important'}}>\r\n      <>\r\n        <Navbar\r\n          collapseOnSelect\r\n          fixed=\"top\"\r\n          expand=\"sm\"\r\n          bg=\"light\"\r\n          varient=\"light\"\r\n        >\r\n          <Container>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n              <Nav style={{ width: \"100%\" }} onClick={handleClick}>\r\n                <Nav.Link>\r\n                  <Link to=\"/\">\r\n                    <h4>Brand 24</h4>\r\n\r\n                  </Link>\r\n                </Nav.Link>\r\n\r\n                <Nav></Nav>\r\n\r\n                <Nav.Link key=\"shop\">\r\n                  <Link to=\"/shop\">\r\n                    <BsShopWindow style={{ fontSize: \"25px\",marginLeft:'20px',color:'rgb(87, 67, 67)' }} />\r\n                  </Link>\r\n                </Nav.Link>\r\n              </Nav>\r\n              <Nav className=\"justify-content-end\">\r\n                {user && user.role === \"subscriber\" && (\r\n                  <span\r\n                    className=\"float-right p-1\"\r\n                    style={{ marginRight: \"50px\" }}\r\n                  >\r\n                    <Search />\r\n                  </span>\r\n                )}\r\n\r\n                {user && (\r\n                  <NavDropdown\r\n                    title={user.email && user.email.split(\"@\")[0]}\r\n                    className=\"float-right\"\r\n                    variant=\"outline\"\r\n                    drop={\"down\"}\r\n                  >\r\n                    {user && user.role === \"subscriber\" && (\r\n                      <Nav.Link>\r\n                        <Link to=\"/user/history\" style={{color:'rgb(87, 67, 67)'}}>Profile</Link>\r\n                      </Nav.Link>\r\n                    )}\r\n\r\n                    {user && user.role === \"admin\" && (\r\n                      <Nav.Link>\r\n                        <Link to=\"/admin/dashboard\" style={{color:'rgb(87, 67, 67)'}}>Dashboard</Link>\r\n                      </Nav.Link>\r\n                    )}\r\n\r\n                    <Nav.Link onClick={logout} style={{color:'rgb(87, 67, 67)'}}>\r\n                      Logout\r\n                    </Nav.Link>\r\n                  </NavDropdown>\r\n                )}\r\n\r\n                {user && user.role === \"subscriber\" && (\r\n                  <Nav.Link>\r\n                    <Link to=\"/user/wishlist\">\r\n                      {/* <Badge count={cart.length} offset={[9, 0]}> */}\r\n                        <FiHeart style={{ fontSize: \"25px\",color:'rgb(87, 67, 67)' }} />\r\n                      {/* </Badge> */}\r\n                    </Link>\r\n                  </Nav.Link>\r\n                )}\r\n\r\n                {user && user.role === \"subscriber\" && (\r\n                  <Nav.Link>\r\n                    <Link to=\"/cart\">\r\n                      <Badge count={cart.length} offset={[9, 0]}>\r\n                        <HiOutlineShoppingBag style={{ fontSize: \"25px\",color:'rgb(87, 67, 67)' }} />\r\n                      </Badge>\r\n                    </Link>\r\n                  </Nav.Link>\r\n                )}\r\n\r\n                {!user && (\r\n                  <Nav.Link\r\n                    key=\"register\"\r\n                    icon={<UserAddOutlined />}\r\n                    className=\"float-right\"\r\n                  >\r\n                    <Link to=\"/register\"style={{color:'rgb(87, 67, 67)'}}>Register</Link>\r\n                  </Nav.Link>\r\n                )}\r\n\r\n                {!user && (\r\n                  <Nav.Link\r\n                    key=\"login\"\r\n                    icon={<UserOutlined />}\r\n                    className=\"float-right\"\r\n                  >\r\n                    <Link to=\"/login\"style={{color:'rgb(87, 67, 67)'}}>Login</Link>\r\n                  </Nav.Link>\r\n                )}\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </Container>\r\n        </Navbar>\r\n      </>\r\n      {/* <div style={{padding:'10px',fontFamily:'revert', backgroundColor:'rgb(116 129 138)'}}>\r\n         \r\n\r\n    </div> */}\r\n      {/* <Menu\r\n        onClick={handleClick}\r\n        style={{ backgroundColor: \"rgb(116 129 138)\", padding: \"10px\" }}\r\n        mode=\"horizontal\"\r\n      >\r\n        <Item>\r\n          <Link style={{ fontFamily: \"sans-serif\" }} to=\"/\">\r\n            <h4>Brand 24</h4>{\" \"}\r\n          </Link>\r\n        </Item>\r\n        {/* <Item key=\"home\" icon={<AppstoreOutlined />}> */}\r\n\r\n        {/* </Item> */}\r\n\r\n        {/* <Item key=\"shop\">\r\n          <Link style={{ fontSize: \"15px\" }} to=\"/shop\">\r\n            <ShoppingOutlined />\r\n          </Link>\r\n        </Item> */}\r\n\r\n        {/* <Item key=\"cart\" icon={<ShoppingCartOutlined />}>\r\n        <Link to=\"/cart\">\r\n          <Badge count={cart.length} offset={[9, 0]}>\r\n            Cart\r\n          </Badge>\r\n        </Link>\r\n      </Item> */}\r\n\r\n        {/* {user && user.role === \"subscriber\" && (\r\n          <Item key=\"cart\" className=\"float-right\">\r\n            <Link style={{ margin: \"5px\" }} to=\"/cart\">\r\n              <Badge count={cart.length} offset={[9, 0]}>\r\n                <ShoppingCartOutlined style={{ fontSize: \"30px\" }} />\r\n              </Badge>\r\n            </Link>\r\n          </Item>\r\n        )} */}\r\n\r\n        {/* {!user && (\r\n          <Item\r\n            key=\"register\"\r\n            icon={<UserAddOutlined />}\r\n            className=\"float-right\"\r\n          >\r\n            <Link to=\"/register\">Register</Link>\r\n          </Item>\r\n        )} */}\r\n\r\n        {/* {!user && (\r\n          <Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\r\n            <Link to=\"/login\">Login</Link>\r\n          </Item>\r\n        )} */}\r\n\r\n        {/* {user && (\r\n          <SubMenu\r\n            icon={<SettingOutlined />}\r\n            title={user.email && user.email.split(\"@\")[0]}\r\n            className=\"float-right\"\r\n          >\r\n            {user && user.role === \"subscriber\" && (\r\n              <Item>\r\n                <Link to=\"/user/history\">Profile</Link>\r\n              </Item>\r\n            )} */}\r\n\r\n            {/* {user && user.role === \"admin\" && (\r\n              <Item>\r\n                <Link to=\"/admin/dashboard\">Dashboard</Link>\r\n              </Item>\r\n            )} */}\r\n{/* \r\n            <Item icon={<LogoutOutlined />} onClick={logout}>\r\n              Logout\r\n            </Item>\r\n          </SubMenu>\r\n        )} */}\r\n\r\n        {/* {user && user.role === \"subscriber\" && (\r\n          <span className=\"float-right p-1\">\r\n            <Search />\r\n          </span>\r\n        )}\r\n      </Menu> */} \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Drawer, Button } from \"antd\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport laptop from \"../../images/laptop.png\";\r\n\r\nconst SideDrawer = () => {\r\n  const dispatch = useDispatch();\r\n  const { drawer, cart } = useSelector((state) => ({ ...state }));\r\n\r\n  const imageStyle = {\r\n    width: \"100%\",\r\n    height: \"50px\",\r\n    objectFit: \"cover\",\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      className=\"text-center\"\r\n      title={`Cart / ${cart.length} Product`}\r\n      placement=\"right\"\r\n      closable={false}\r\n      onClose={() => {\r\n        dispatch({\r\n          type: \"SET_VISIBLE\",\r\n          payload: false,\r\n        });\r\n      }}\r\n      visible={drawer}\r\n    >\r\n      {cart.map((p) => (\r\n        <div key={p._id} className=\"row\">\r\n          <div className=\"col\">\r\n            {p.images[0] ? (\r\n              <>\r\n                <img src={p.images[0].url} style={imageStyle} />\r\n                <p className=\"text-center bg-secondary text-light\">\r\n                  {p.title} x {p.count}\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <img src={laptop} style={imageStyle} />\r\n                <p className=\"text-center bg-secondary text-light\">\r\n                  {p.title} x {p.count}\r\n                </p>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      <Link to=\"/cart\">\r\n        <button\r\n          onClick={() =>\r\n            dispatch({\r\n              type: \"SET_VISIBLE\",\r\n              payload: false,\r\n            })\r\n          }\r\n          className=\"text-center btn btn-primary btn-raised btn-block\"\r\n        >\r\n          Go To Cart\r\n        </button>\r\n      </Link>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createOrUpdateUser } from \"../../functions/auth\";\r\n\r\nconst RegisterComplete = ({ history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  // const { user } = useSelector((state) => ({ ...state }));\r\n  let dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setEmail(window.localStorage.getItem(\"emailForRegistration\"));\r\n    // console.log(window.location.href);\r\n    // console.log(window.localStorage.getItem(\"emailForRegistration\"));\r\n  }, [history]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // validation\r\n    if (!email || !password) {\r\n      toast.error(\"Email and password is required\");\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      toast.error(\"Password must be at least 6 characters long\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = await auth.signInWithEmailLink(\r\n        email,\r\n        window.location.href\r\n      );\r\n      console.log(\"RESULT\", result);\r\n      if (result.user.emailVerified) {\r\n        // remove user email fom local storage\r\n        window.localStorage.removeItem(\"emailForRegistration\");\r\n        // get user id token\r\n        let user = auth.currentUser;\r\n        await user.updatePassword(password);\r\n        const idTokenResult = await user.getIdTokenResult();\r\n        // redux store\r\n        console.log(\"user\", user, \"idTokenResult\", idTokenResult);\r\n\r\n        createOrUpdateUser(idTokenResult.token)\r\n          .then((res) => {\r\n            dispatch({\r\n              type: \"LOGGED_IN_USER\",\r\n              payload: {\r\n                name: res.data.name,\r\n                email: res.data.email,\r\n                token: idTokenResult.token,\r\n                role: res.data.role,\r\n                _id: res.data._id,\r\n              },\r\n            });\r\n          })\r\n          .catch((err) => console.log(err));\r\n\r\n        console.log('user', user, 'idTokenResult', idTokenResult)\r\n\r\n        // redirect\r\n        history.push(\"/\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\n  const completeRegistrationForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <input type=\"email\" className=\"form-control\" value={email} disabled />\r\n\r\n      <input\r\n        type=\"password\"\r\n        className=\"form-control\"\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        placeholder=\"Password\"\r\n        autoFocus\r\n      />\r\n      <br />\r\n      <button type=\"submit\" className=\"btn btn-raised\">\r\n        Complete Registration\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container p-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          <h4>Register Complete</h4>\r\n          {completeRegistrationForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterComplete;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ForgotPassword = ({ history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) history.push(\"/\");\r\n  }, [user, history]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const config = {\r\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\r\n      handleCodeInApp: true,\r\n    };\r\n\r\n    await auth\r\n      .sendPasswordResetEmail(email, config)\r\n      .then(() => {\r\n        setEmail(\"\");\r\n        setLoading(false);\r\n        toast.success(\"Check your email for password reset link\");\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        toast.error(error.message);\r\n        console.log(\"ERROR MSG IN FORGOT PASSWORD\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container col-md-6 offset-md-3 p-5\">\r\n      {loading ? (\r\n        <h4 className=\"text-danger\">Loading</h4>\r\n      ) : (\r\n        <h4>Forgot Password</h4>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          placeholder=\"Type your email\"\r\n          autoFocus\r\n        />\r\n        <br />\r\n        <button className=\"btn btn-raised\" disabled={!email}>\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserNav = () => (\r\n  <nav style={{color:'black'}}>\r\n    <ul className=\"nav flex-column\">\r\n      <li className=\"nav-item\">\r\n        <Link style={{color:'black'}} to=\"/user/history\" className=\"nav-link\">\r\n          History\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link style={{color:'black'}} to=\"/user/profile\" className=\"nav-link\">\r\n          Profile Details\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link style={{color:'black'}} to=\"/user/password\" className=\"nav-link\">\r\n          Change Password\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link style={{color:'black'}} to=\"/user/wishlist\" className=\"nav-link\">\r\n          Wishlist\r\n        </Link>\r\n      </li>\r\n\r\n\r\n    </ul>\r\n  </nav>\r\n);\r\n\r\nexport default UserNav;\r\n","import axios from \"axios\";\r\n\r\nexport const userCart = async (cart, authtoken) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/cart`,\r\n    { cart },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const getUserCart = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/cart`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getUsers = async(authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/getusers`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const blockUser = async(id) =>\r\n  await axios.put(`${process.env.REACT_APP_API}/user/blockuser`, {\r\n  id,\r\n});\r\n\r\nexport const unblockUser = async(id) =>\r\n  await axios.put(`${process.env.REACT_APP_API}/user/unblockuser`,  {\r\n    id,\r\n  });\r\n\r\nexport const emptyUserCart = async (authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/user/cart`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const saveUserAddress = async (authtoken, address) =>{\r\nconsole.log(address)\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/address`,\r\n    { address },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );}\r\n\r\nexport const applyCoupon = async (authtoken, coupon) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/cart/coupon`,\r\n    { coupon },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const createOrder = async (stripeResponse, authtoken) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/order`,\r\n    { stripeResponse },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\nexport const getAddress = authtoken =>  axios.get(`${process.env.REACT_APP_API}/user/getaddress`, { headers: { authtoken,}})    \r\n\r\n\r\n\r\n  export const createAddress = async(address, authtoken) =>{\r\n    await axios.post(`${process.env.REACT_APP_API}/user/address`,\r\n    { address },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    })\r\n  }\r\n\r\nexport const getUserOrders = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/orders`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getWishlist = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/wishlist`,{}, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\n  export const deleteAddress = async (addressId, authtoken)=>{\r\n    console.log(addressId)\r\n  await axios.put(\r\n    `${process.env.REACT_APP_API}/user/deleteaddress`,\r\n    {addressId},\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );}\r\n  \r\n\r\nexport const removeWishlist = async (productId, authtoken) =>\r\n  await axios.put(\r\n    `${process.env.REACT_APP_API}/user/wishlist/${productId}`,\r\n    {},\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const addToWishlist = async (productId, authtoken) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/wishlist`,\r\n    { productId },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const createCashOrderForUser = async (\r\n  authtoken,\r\n  COD,\r\n  couponTrueOrFalse\r\n) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/cash-order`,\r\n    { couponApplied: couponTrueOrFalse, COD },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n","import React from \"react\";\r\n\r\nconst ShowPaymentInfo = ({ order, showStatus = true }) => (\r\n  <div>\r\n    <p>\r\n      <span>Order Id: {order._id}</span>\r\n      {\" / \"}\r\n      {/* <span>\r\n        Amount:{\" / \"}\r\n        {(order.amount /= 100).toLocaleString(\"en-US\", {\r\n          style: \"currency\",\r\n          currency: \"USD\",\r\n        })}\r\n      </span>\r\n      {\" / \"} */}\r\n      {/* <span>Currency: {order.paymentIntent.currency.toUpperCase()}</span>\r\n      {\" / \"} */}\r\n      {/* <span>Method: {order.paymentIntent.payment_method_types[0]}</span>\r\n      {\" / \"} */}\r\n      <span>Payment: {order.paymentIntent.status.toUpperCase()}</span>\r\n      {\" / \"}\r\n      {/* <span>\r\n        Orderd on:{\" / \"}\r\n        {new Date(order.paymentIntent.created * 1000).toLocaleString()}\r\n      </span>\r\n      {\" / \"} */}\r\n      <br />\r\n      {showStatus && order.orderStatus !='Cancelled'?(\r\n        <span className=\"badge text-white\" style={{backgroundColor:'rgb(87 67 67)'}}>\r\n          STATUS: {order.orderStatus}\r\n        </span>\r\n      ):(\r\n        <span className=\"badge text-white\" style={{backgroundColor:'red'}}>\r\n          STATUS: {order.orderStatus}\r\n        </span>\r\n      )}\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default ShowPaymentInfo;\r\n","import React from \"react\";\r\nimport { Document, Page, Text, StyleSheet } from \"@react-pdf/renderer\";\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  DataTableCell,\r\n} from \"@david.kucsai/react-pdf-table\";\r\n\r\nconst Invoice = ({ order }) => (\r\n  <Document>\r\n    <Page style={styles.body}>\r\n      <Text style={styles.header} fixed>\r\n        ~ {new Date().toLocaleString()} ~\r\n      </Text>\r\n      <Text style={styles.title}>Order Invoice</Text>\r\n      <Text style={styles.author}>Brand 24</Text>\r\n      <Text style={styles.subtitle}>Order Summary</Text>\r\n\r\n      <Table>\r\n        <TableHeader>\r\n          <TableCell>Title</TableCell>\r\n          <TableCell>Price</TableCell>\r\n          <TableCell>Quantity</TableCell>\r\n          {/* <TableCell>Brand</TableCell>\r\n          <TableCell>Color</TableCell> */}\r\n        </TableHeader>\r\n      </Table>\r\n\r\n      <Table data={order.products}>\r\n        <TableBody>\r\n          <DataTableCell getContent={(x) => x.product.title} />\r\n          <DataTableCell getContent={(x) => `$${x.product.price}`} />\r\n          <DataTableCell getContent={(x) => x.count} />\r\n          {/* <DataTableCell getContent={(x) => x.product.brand} />\r\n          <DataTableCell getContent={(x) => x.product.color} /> */}\r\n        </TableBody>\r\n      </Table>\r\n\r\n      <Text style={styles.text}>\r\n        <Text>\r\n          Date: {\"               \"}\r\n          {new Date(order.paymentIntent.created * 1000).toLocaleString()}\r\n        </Text>\r\n        {\"\\n\"}\r\n        <Text>\r\n          Order Id: {\"         \"}\r\n          {order.paymentIntent.id}\r\n        </Text>\r\n        {\"\\n\"}\r\n        <Text>\r\n          Order Status: {\"  \"}\r\n          {order.orderStatus}\r\n        </Text>\r\n        {\"\\n\"}\r\n        <Text>\r\n          Total Paid: {\"       \"}\r\n          {order.paymentIntent.amount}\r\n        </Text>\r\n      </Text>\r\n\r\n      <Text style={styles.footer}> ~ Thank you for shopping with us ~ </Text>\r\n    </Page>\r\n  </Document>\r\n);\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    textAlign: \"center\",\r\n  },\r\n  author: {\r\n    fontSize: 12,\r\n    textAlign: \"center\",\r\n    marginBottom: 40,\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n  },\r\n  image: {\r\n    marginVertical: 15,\r\n    marginHorizontal: 100,\r\n  },\r\n  header: {\r\n    fontSize: 12,\r\n    marginBottom: 20,\r\n    textAlign: \"center\",\r\n    color: \"grey\",\r\n  },\r\n  footer: {\r\n    padding: \"100px\",\r\n    fontSize: 12,\r\n    marginBottom: 20,\r\n    textAlign: \"center\",\r\n    color: \"grey\",\r\n  },\r\n  pageNumber: {\r\n    position: \"absolute\",\r\n    fontSize: 12,\r\n    bottom: 30,\r\n    left: 0,\r\n    right: 0,\r\n    textAlign: \"center\",\r\n    color: \"grey\",\r\n  },\r\n});\r\n\r\nexport default Invoice;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport UserNav from \"../../components/nav/UserNav\";\r\nimport { getUserOrders } from \"../../functions/user\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\r\nimport { toast } from \"react-toastify\";\r\nimport ShowPaymentInfo from \"../../components/cards/ShowPaymentInfo\";\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\nimport Invoice from \"../../components/order/Invoice\";\r\n\r\nconst History = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadUserOrders();\r\n  }, []);\r\n\r\n  const loadUserOrders = () =>\r\n    getUserOrders(user.token).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4));\r\n      setOrders(res.data);\r\n    });\r\n\r\n  const showOrderInTable = (order) => (\r\n    <table className=\"table table-bordered\">\r\n      <thead className=\"thead-light\">\r\n        <tr>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Price</th>\r\n          {/* <th scope=\"col\">Brand</th>\r\n          <th scope=\"col\">Color</th> */}\r\n          <th scope=\"col\">Count</th>\r\n          {/* <th scope=\"col\">Shipping</th> */}\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {(order.products.map((p, i) => (\r\n          <tr key={i}>\r\n            <td>\r\n              <b>{p.product.title}</b>\r\n            </td>\r\n            <td>{p.product.price}</td>\r\n            {/* <td>{p.product.brand}</td>\r\n            <td>{p.color}</td> */}\r\n            <td>{p.count}</td>\r\n            {/* <td>\r\n              {p.product.shipping === \"Yes\" ? (\r\n                <CheckCircleOutlined style={{ color: \"green\" }} />\r\n              ) : (\r\n                <CloseCircleOutlined style={{ color: \"red\" }} />\r\n              )}\r\n            </td> */}\r\n          </tr>\r\n        )))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n\r\n  const showDownloadLink = (order) => (\r\n    <PDFDownloadLink\r\n      document={<Invoice order={order} />}\r\n      fileName=\"invoice_Brand24.pdf\"\r\n      className=\"btn btn-sm btn-block btn-outline-primary\"\r\n      style={{borderColor:'rgb(87 67 67)', color:'rgb(87 67 67)'}}\r\n    >\r\n      Download PDF\r\n    </PDFDownloadLink>\r\n  );\r\n\r\n  const showEachOrders = () =>\r\n    orders.reverse().map((order, i) => (\r\n      <div key={i} className=\"m-5 p-3 card\" style={{backgroundColor:'rgb(217, 204, 204)'}}>\r\n        <ShowPaymentInfo order={order} />\r\n        {showOrderInTable(order)}\r\n        <div className=\"row\">\r\n          <div className=\"col\">{showDownloadLink(order)}</div>\r\n        </div>\r\n      </div>\r\n    ));\r\n\r\n  return (\r\n    <div className=\"container-fluid\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <UserNav />\r\n        </div>\r\n        <div className=\"col text-center\">\r\n          <h4>\r\n            {orders.length > 0 ? \"User purchase orders\" : \"No purchase orders\"}\r\n          </h4>\r\n          {showEachOrders()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoadingToRedirect = () => {\r\n  const [count, setCount] = useState(5);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCount((currentCount) => --currentCount);\r\n    }, 1000);\r\n    // redirect once count is equal to 0\r\n    count === 0 && history.push(\"/\");\r\n    // cleanup\r\n    return () => clearInterval(interval);\r\n  }, [count, history]);\r\n\r\n  return (\r\n    <div className=\"container p-5 text-center\">\r\n      <p>Redirecting you in {count} seconds</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingToRedirect;\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingToRedirect from \"./LoadingToRedirect\";\r\n\r\nconst UserRoute = ({ children, ...rest }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  return user && user.token ? <Route {...rest} /> : <LoadingToRedirect />;\r\n};\r\n\r\nexport default UserRoute;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingToRedirect from \"./LoadingToRedirect\";\r\nimport { currentAdmin } from \"../../functions/auth\";\r\n\r\nconst AdminRoute = ({ children, ...rest }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [ok, setOk] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) {\r\n      currentAdmin(user.token)\r\n        .then((res) => {\r\n          console.log(\"CURRENT ADMIN RES\", res);\r\n          setOk(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"ADMIN ROUTE ERR\", err);\r\n          setOk(false);\r\n        });\r\n    }\r\n  }, [user]);\r\n\r\n  return ok ? <Route {...rest} /> : <LoadingToRedirect />;\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React, { useState } from \"react\";\r\nimport UserNav from \"../../components/nav/UserNav\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Password = () => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    // console.log(password);\r\n\r\n    await auth.currentUser\r\n      .updatePassword(password)\r\n      .then(() => {\r\n        setLoading(false);\r\n        setPassword(\"\");\r\n        toast.success(\"Password updated\");\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        toast.error(err.message);\r\n      });\r\n  };\r\n\r\n  const passwordUpdateForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label>Your Password</label>\r\n        <input\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          className=\"form-control\"\r\n          placeholder=\"Enter new password\"\r\n          disabled={loading}\r\n          value={password}\r\n        />\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          disabled={!password || password.length < 6 || loading}\r\n        >\r\n          Submit\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <UserNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Password Update</h4>\r\n          )}\r\n          {passwordUpdateForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Password;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport UserNav from \"../../components/nav/UserNav\";\r\nimport { getWishlist, removeWishlist } from \"../../functions/user\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\n\r\nconst Wishlist = () => {\r\n  const [wishlist, setWishlist] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadWishlist();\r\n  }, []);\r\n\r\n  const loadWishlist = () =>\r\n    getWishlist(user.token).then((res) => {\r\n      // console.log(res);\r\n      setWishlist(res.data.wishlist);\r\n    });\r\n\r\n  const handleRemove = (productId) =>\r\n    removeWishlist(productId, user.token).then((res) => {\r\n      loadWishlist();\r\n    });\r\n\r\n  return (\r\n    <div className=\"container-fluid\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <UserNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          <h4>Wishlist</h4>\r\n\r\n          {wishlist.map((p) => (\r\n            <div key={p._id} className=\"alert alert-secondary\">\r\n              <Link to={`/product/${p.slug}`}>{p.title}</Link>\r\n              <span\r\n                onClick={() => handleRemove(p._id)}\r\n                className=\"btn btn-sm float-right\"\r\n              >\r\n                <DeleteOutlined className=\"text-danger\" />\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wishlist;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport './AdminNav.css';\r\nimport firebase from \"firebase\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AdminNav = () =>{ \r\n\r\n  let dispatch = useDispatch();\r\n  let history = useHistory();\r\n\r\n\r\n  const logout = () => {\r\n    firebase.auth().signOut();\r\n    dispatch({\r\n      type: \"LOGOUT\",\r\n      payload: null,\r\n    });\r\n    history.push(\"/login\");\r\n  };\r\n  \r\n  return(\r\n  <nav style={{backgroundColor:'rgb(87, 67, 67)',height:'100vh',boxShadow: \"5px 5px 8px 5px #555\"}}>\r\n    <ul className=\"nav flex-column\">\r\n\r\n      <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/chart\" className=\"nav-link\">\r\n          Dashboard\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/dashboard\" className=\"nav-link\">\r\n          Order Management\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/report\" className=\"nav-link\">\r\n          Sales Report\r\n        </Link>\r\n      </li>\r\n\r\n      {/* <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/product\" className=\"nav-link\">\r\n          Add Product\r\n        </Link>\r\n      </li> */}\r\n\r\n      <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/products\" className=\"nav-link\">\r\n          Product Management\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/category\" className=\"nav-link\">\r\n          Category Management\r\n        </Link>\r\n      </li>\r\n\r\n      {/* <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/sub\" className=\"nav-link\">\r\n          Sub Category\r\n        </Link>\r\n      </li> */}\r\n\r\n      <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/coupon\" className=\"nav-link\">\r\n          Coupon\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <Link style={{color:'white'}} to=\"/admin/offer\" className=\"nav-link\">\r\n          Offer\r\n        </Link>\r\n      </li>\r\n      \r\n      {/* <li className=\"nav-item\" style={{padding:'5px'}}>\r\n        <div style={{color:'white',cursor:'pointer'}} onClick={logout} className=\"nav-link\">\r\n          Signout\r\n        </div>\r\n      </li> */}\r\n\r\n      {/* <li className=\"nav-item\">\r\n        <Link style={{color:'black'}} to=\"/user/password\" className=\"nav-link\">\r\n          Password\r\n        </Link>\r\n      </li> */}\r\n    </ul>\r\n  </nav>\r\n\r\n  \r\n);}\r\n\r\nexport default AdminNav;\r\n","import axios from \"axios\";\r\n\r\nexport const getOrders = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/admin/orders`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const changeStatus = async (orderId, orderStatus, authtoken) =>\r\n  await axios.put(\r\n    `${process.env.REACT_APP_API}/admin/order-status`,\r\n    { orderId, orderStatus },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n","import React from \"react\";\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\r\nimport ShowPaymentInfo from \"../cards/ShowPaymentInfo\";\r\n\r\nconst Orders = ({ orders, handleStatusChange }) => {\r\n  const showOrderInTable = (order) => (\r\n    <table className=\"table table-bordered\">\r\n      <thead className=\"thead-light\">\r\n        <tr>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Price</th>\r\n          {/* <th scope=\"col\">Brand</th> */}\r\n          {/* <th scope=\"col\">Color</th> */}\r\n          <th scope=\"col\">Count</th>\r\n          {/* <th scope=\"col\">Shipping</th> */}\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {order.products.map((p, i) => (\r\n          <tr key={i}>\r\n            <td>\r\n              <b>{p.product.title}</b>\r\n            </td>\r\n            <td>{p.product.price}</td>\r\n            {/* <td>{p.product.brand}</td> */}\r\n            {/* <td>{p.color}</td> */}\r\n            <td>{p.count}</td>\r\n            {/* <td>\r\n              {p.product.shipping === \"Yes\" ? (\r\n                <CheckCircleOutlined style={{ color: \"green\" }} />\r\n              ) : (\r\n                <CloseCircleOutlined style={{ color: \"red\" }} />\r\n              )}\r\n            </td> */}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {orders.map((order) => (\r\n        <div key={order._id} className=\"row pb-5\" style={{backgroundColor:'#d9cccc',color:'black',marginRight:'20px'}}>\r\n          <div className=\"btn btn-block\">\r\n            <ShowPaymentInfo order={order} showStatus={false} />\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4\">Delivery Status</div>\r\n              <div className=\"col-md-8\">\r\n                <select\r\n                  onChange={(e) =>\r\n                    handleStatusChange(order._id, e.target.value)\r\n                  }\r\n                  className=\"form-control\"\r\n                  defaultValue={order.orderStatus}\r\n                  name=\"status\"\r\n                >\r\n                  <option value=\"Not Processed\">Not Processed</option>\r\n                  <option value=\"Cash On Delivery\">Cash On Delivery</option>\r\n                  <option value=\"Processing\">Processing</option>\r\n                  <option value=\"Dispatched\">Dispatched</option>\r\n                  <option value=\"Cancelled\">Cancelled</option>\r\n                  <option value=\"Completed\">Completed</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {showOrderInTable(order)}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../components/nav/AdminNav\";\r\nimport { getOrders, changeStatus } from \"../../functions/admin\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport Orders from \"../../components/order/Orders\";\r\n// import { PDFDownloadLink } from \"@react-pdf/renderer\";\r\n// import Report from \"../../components/order/Report\";\r\n\r\n\r\nconst AdminDashboard = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n  }, []);\r\n\r\n  const loadOrders = () =>\r\n    getOrders(user.token).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4));\r\n      setOrders(res.data);\r\n    });\r\n\r\n  const handleStatusChange = (orderId, orderStatus) => {\r\n    changeStatus(orderId, orderStatus, user.token).then((res) => {\r\n      toast.success(\"Status updated\");\r\n      loadOrders();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"\" style={{ color: \"white\", marginTop: \"78px\" }}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\" style={{}}>\r\n          <AdminNav />\r\n        </div>\r\n\r\n        <div className=\"col-md-10\">\r\n          <h4 style={{ color: \"black\" }}></h4>\r\n          {/* {JSON.stringify(orders)} */}\r\n          {/* <PDFDownloadLink\r\n            document={<Report order={orders} />}\r\n            fileName=\"invoice_Brand24.pdf\"\r\n            className=\"btn btn-sm btn-block btn-outline-primary\"\r\n          >\r\n            Download PDF\r\n          </PDFDownloadLink> */}\r\n          <Orders orders={orders} handleStatusChange={handleStatusChange} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import React from \"react\";\r\n\r\nconst CategoryForm = ({ handleSubmit, name, setName }) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div className=\"form-group\">\r\n      <label>Name</label>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        onChange={(e) => setName(e.target.value)}\r\n        value={name}\r\n        autoFocus\r\n        required\r\n      />\r\n      <br />\r\n      <button className=\"btn btn-outline-primary\" style={{color:'rgb(87, 67, 67)',borderColor:'rgb(87 67 67)'}}>Save</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default CategoryForm;\r\n","import React from \"react\";\r\n\r\nconst LocalSearch = ({ keyword, setKeyword }) => {\r\n  const handleSearchChange = (e) => {\r\n    e.preventDefault();\r\n    setKeyword(e.target.value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <input\r\n      type=\"search\"\r\n      placeholder=\"Filter\"\r\n      value={keyword}\r\n      onChange={handleSearchChange}\r\n      className=\"form-control mb-4\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default LocalSearch;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  createCategory,\r\n  getCategories,\r\n  removeCategory,\r\n} from \"../../../functions/category\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\n\r\nconst CategoryCreate = () => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  // step 1\r\n  const [keyword, setKeyword] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = () =>\r\n    getCategories().then((c) => setCategories(c.data));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(name);\r\n    setLoading(true);\r\n    createCategory({ name }, user.token)\r\n      .then((res) => {\r\n        // console.log(res)\r\n        setLoading(false);\r\n        setName(\"\");\r\n        toast.success(`\"${res.data.name}\" is created`);\r\n        loadCategories();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        if (err.response.status === 400) toast.error(err.response.data);\r\n      });\r\n  };\r\n\r\n  const handleRemove = async (slug) => {\r\n    // let answer = window.confirm(\"Delete?\");\r\n    // console.log(answer, slug);\r\n    if (window.confirm(\"Delete?\")) {\r\n      setLoading(true);\r\n      removeCategory(slug, user.token)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          toast.error(`${res.data.name} deleted`);\r\n          loadCategories();\r\n        })\r\n        .catch((err) => {\r\n          if (err.response.status === 400) {\r\n            setLoading(false);\r\n            toast.error(err.response.data);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  // step 4\r\n  const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword);\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Create category</h4>\r\n          )}\r\n\r\n          <CategoryForm\r\n            handleSubmit={handleSubmit}\r\n            name={name}\r\n            setName={setName}\r\n          />\r\n\r\n          {/* step 2 and step 3 */}\r\n          <LocalSearch keyword={keyword} setKeyword={setKeyword} />\r\n\r\n          {/* step 5 */}\r\n          {categories.filter(searched(keyword)).map((c) => (\r\n            <div className=\"alert alert-secondary\" key={c._id}>\r\n              {c.name}\r\n              <span\r\n                onClick={() => handleRemove(c.slug)}\r\n                className=\"btn btn-sm float-right\"\r\n              >\r\n                <DeleteOutlined className=\"text-danger\" />\r\n              </span>\r\n              <Link to={`/admin/category/${c.slug}`}>\r\n                <span className=\"btn btn-sm float-right\">\r\n                  <EditOutlined className=\"text-warning\" />\r\n                </span>\r\n              </Link>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryCreate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCategory, updateCategory } from \"../../../functions/category\";\r\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\r\n\r\nconst CategoryUpdate = ({ history, match }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadCategory();\r\n  }, []);\r\n\r\n  const loadCategory = () =>\r\n    getCategory(match.params.slug).then((c) => setName(c.data.name));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(name);\r\n    setLoading(true);\r\n    updateCategory(match.params.slug, { name }, user.token)\r\n      .then((res) => {\r\n        // console.log(res)\r\n        setLoading(false);\r\n        setName(\"\");\r\n        toast.success(`\"${res.data.name}\" is updated`);\r\n        history.push(\"/admin/category\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        if (err.response.status === 400) toast.error(err.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Update category</h4>\r\n          )}\r\n\r\n          <CategoryForm\r\n            handleSubmit={handleSubmit}\r\n            name={name}\r\n            setName={setName}\r\n          />\r\n\r\n          <hr />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryUpdate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCategories } from \"../../../functions/category\";\r\nimport { createSub, getSub, removeSub, getSubs } from \"../../../functions/sub\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\n\r\nconst SubCreate = () => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [subs, setSubs] = useState([]);\r\n  // step 1\r\n  const [keyword, setKeyword] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n    loadSubs();\r\n  }, []);\r\n\r\n  const loadCategories = () =>\r\n    getCategories().then((c) => setCategories(c.data));\r\n\r\n  const loadSubs = () => getSubs().then((s) => setSubs(s.data));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(name);\r\n    setLoading(true);\r\n    createSub({ name, parent: category }, user.token)\r\n      .then((res) => {\r\n        // console.log(res)\r\n        setLoading(false);\r\n        setName(\"\");\r\n        toast.success(`\"${res.data.name}\" is created`);\r\n        loadSubs();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        if (err.response.status === 400) toast.error(err.response.data);\r\n      });\r\n  };\r\n\r\n  const handleRemove = async (slug) => {\r\n    // let answer = window.confirm(\"Delete?\");\r\n    // console.log(answer, slug);\r\n    if (window.confirm(\"Delete?\")) {\r\n      setLoading(true);\r\n      removeSub(slug, user.token)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          toast.error(`${res.data.name} deleted`);\r\n          loadSubs();\r\n        })\r\n        .catch((err) => {\r\n          if (err.response.status === 400) {\r\n            setLoading(false);\r\n            toast.error(err.response.data);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  // step 4\r\n  const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword);\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Create sub category</h4>\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <label>Parent category</label>\r\n            <select\r\n              name=\"category\"\r\n              className=\"form-control\"\r\n              onChange={(e) => setCategory(e.target.value)}\r\n            >\r\n              <option>Please select</option>\r\n              {categories.length > 0 &&\r\n                categories.map((c) => (\r\n                  <option key={c._id} value={c._id}>\r\n                    {c.name}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n\r\n          <CategoryForm\r\n            handleSubmit={handleSubmit}\r\n            name={name}\r\n            setName={setName}\r\n          />\r\n\r\n          {/* step 2 and step 3 */}\r\n          <LocalSearch keyword={keyword} setKeyword={setKeyword} />\r\n\r\n          {/* step 5 */}\r\n          {subs.filter(searched(keyword)).map((s) => (\r\n            <div className=\"alert alert-secondary\" key={s._id}>\r\n              {s.name}\r\n              <span\r\n                onClick={() => handleRemove(s.slug)}\r\n                className=\"btn btn-sm float-right\"\r\n              >\r\n                <DeleteOutlined className=\"text-danger\" />\r\n              </span>\r\n              <Link to={`/admin/sub/${s.slug}`}>\r\n                <span className=\"btn btn-sm float-right\">\r\n                  <EditOutlined className=\"text-warning\" />\r\n                </span>\r\n              </Link>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubCreate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCategories } from \"../../../functions/category\";\r\nimport { updateSub, getSub } from \"../../../functions/sub\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\n\r\nconst SubUpdate = ({ match, history }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [parent, setParent] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n    loadSub();\r\n  }, []);\r\n\r\n  const loadCategories = () =>\r\n    getCategories().then((c) => setCategories(c.data));\r\n\r\n  const loadSub = () =>\r\n    getSub(match.params.slug).then((s) => {\r\n      setName(s.data.name);\r\n      setParent(s.data.parent);\r\n    });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(name);\r\n    setLoading(true);\r\n    updateSub(match.params.slug, { name, parent }, user.token)\r\n      .then((res) => {\r\n        // console.log(res)\r\n        setLoading(false);\r\n        setName(\"\");\r\n        toast.success(`\"${res.data.name}\" is updated`);\r\n        history.push(\"/admin/sub\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        if (err.response.status === 400) toast.error(err.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Update sub category</h4>\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <label>Parent category</label>\r\n            <select\r\n              name=\"category\"\r\n              className=\"form-control\"\r\n              onChange={(e) => setParent(e.target.value)}\r\n            >\r\n              <option>Please select</option>\r\n              {categories.length > 0 &&\r\n                categories.map((c) => (\r\n                  <option key={c._id} value={c._id} selected={c._id === parent}>\r\n                    {c.name}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n\r\n          <CategoryForm\r\n            handleSubmit={handleSubmit}\r\n            name={name}\r\n            setName={setName}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubUpdate;\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst ProductCreateForm = ({\r\n  handleSubmit,\r\n  handleChange,\r\n  setValues,\r\n  values,\r\n  handleCatagoryChange,\r\n  subOptions,\r\n  showSub,\r\n}) => {\r\n  // destructure\r\n  const {\r\n    title,\r\n    description,\r\n    price,\r\n    categories,\r\n    category,\r\n    subs,\r\n    shipping,\r\n    quantity,\r\n    images,\r\n    colors,\r\n    brands,\r\n    color,\r\n    brand,\r\n  } = values;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label>Title</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          className=\"form-control\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Description</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"form-control\"\r\n          value={description}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Price</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          className=\"form-control\"\r\n          value={price}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      {/* <div className=\"form-group\">\r\n        <label>Shipping</label>\r\n        <select\r\n          name=\"shipping\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n        >\r\n          <option>Please select</option>\r\n          <option value=\"No\">No</option>\r\n          <option value=\"Yes\">Yes</option>\r\n        </select>\r\n      </div> */}\r\n\r\n      <div className=\"form-group\">\r\n        <label>Quantity</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"quantity\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      {/* <div className=\"form-group\">\r\n        <label>Color</label>\r\n        <select name=\"color\" className=\"form-control\" onChange={handleChange}>\r\n          <option>Please select</option>\r\n          {colors.map((c) => (\r\n            <option key={c} value={c}>\r\n              {c}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div> */}\r\n\r\n      {/* <div className=\"form-group\">\r\n        <label>Brand</label>\r\n        <select name=\"brand\" className=\"form-control\" onChange={handleChange}>\r\n          <option>Please select</option>\r\n          {brands.map((b) => (\r\n            <option key={b} value={b}>\r\n              {b}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div> */}\r\n\r\n      <div className=\"form-group\">\r\n        <label>Category</label>\r\n        <select\r\n          name=\"category\"\r\n          className=\"form-control\"\r\n          onChange={handleCatagoryChange}\r\n        >\r\n          <option style={{color:'gray'}}>------Please select-------</option>\r\n          {categories.length > 0 &&\r\n            categories.map((c) => (\r\n              <option key={c._id} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* {showSub && (\r\n        <div>\r\n          <label>Sub Categories</label>\r\n          <Select\r\n            mode=\"multiple\"\r\n            style={{ width: \"100%\" }}\r\n            placeholder=\"Please select\"\r\n            value={subs}\r\n            onChange={(value) => setValues({ ...values, subs: value })}\r\n          >\r\n            {subOptions.length &&\r\n              subOptions.map((s) => (\r\n                <Option key={s._id} value={s._id}>\r\n                  {s.name}\r\n                </Option>\r\n              ))}\r\n          </Select>\r\n        </div>\r\n      )} */}\r\n\r\n      <br />\r\n      <div style={{textAlign:'center'}}>\r\n      <button className=\"btn btn-outline-info\" style={{borderColor:'rgb(87, 67, 67)',color:'rgb(87, 67, 67)'}}>Save</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProductCreateForm;","import React, { useEffect, useState } from 'react';\r\nimport { Modal, Button } from 'antd';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\n\r\n\r\nfunction ImageCropperModal({ isModalVisible, setIsModalVisible, setFiles, srcImg, setResult }) {\r\n\r\n    //save the image that used to be crop\r\n    const [image, setImage] = useState(null);\r\n    //change the aspect ratio of crop tool as you preferred\r\n    const [crop, setCrop] = useState({ aspect: 1 / 1 });\r\n\r\n    useEffect(()=> console.log(srcImg))\r\n\r\n\r\n    const handleOk = async () => {\r\n        await getCroppedImg()\r\n        setFiles(true)\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    const getCroppedImg = async () => {\r\n        try {\r\n            const canvas = document.createElement(\"canvas\");\r\n            const scaleX = image.naturalWidth / image.width;\r\n            const scaleY = image.naturalHeight / image.height;\r\n            canvas.width = crop.width;\r\n            canvas.height = crop.height;\r\n            const ctx = canvas.getContext(\"2d\");\r\n            ctx.drawImage(\r\n                image,\r\n                crop.x * scaleX,\r\n                crop.y * scaleY,\r\n                crop.width * scaleX,\r\n                crop.height * scaleY,\r\n                0,\r\n                0,\r\n                crop.width,\r\n                crop.height\r\n            );\r\n\r\n            const base64Image = canvas.toDataURL(\"image/jpeg\", 1);\r\n\r\n            console.log(base64Image)\r\n\r\n            setResult(base64Image);\r\n\r\n        } catch (e) {\r\n            console.log(\"crop the image\");\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Crop Image\"\r\n                bodyStyle={{ backgroundColor: 'rgb(87, 67, 67)' }}\r\n                visible={isModalVisible} onOk={handleOk}\r\n                onCancel={handleCancel} width={700}>\r\n                {srcImg && (\r\n                    <div className='text-center'>\r\n                        <ReactCrop\r\n                            style={{ maxWidth: \"50%\" }}\r\n                            src={srcImg}\r\n                            onImageLoaded={setImage}\r\n                            crop={crop}\r\n                            onChange={setCrop}\r\n                        />\r\n                        <div className=\"p-3\">\r\n                            {/* <Button\r\n                            onClick={getCroppedImg}\r\n                        >\r\n                            Crop\r\n                        </Button> */}\r\n                        </div>\r\n\r\n                    </div>\r\n                )}\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ImageCropperModal\r\n","import React, { useEffect, useState } from 'react'\r\nimport Resizer from 'react-image-file-resizer'\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux'\r\nimport { Avatar, Badge, Spin } from 'antd'\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport ImageCropperModal from '../forms/ImageCropperModal'\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n\r\nconst FileUpload = ({ values, setValues, setLoading, loading }) => {\r\n\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [srcImg, setSrcImg] = useState(null);\r\n    //save the resulted image\r\n    const [result, setResult] = useState(null);\r\n    const [files, setFiles] = useState(false)\r\n\r\n    const { user } = useSelector((state) => ({ ...state }))\r\n\r\n    useEffect(() => {\r\n\r\n            console.log('re render');\r\n            fileUploadAndResize()\r\n\r\n    }, [files])\r\n\r\n    const handleImage = (e) => {\r\n        if (e.target.files.length > 0) {\r\n            setSrcImg(URL.createObjectURL(e.target.files[0]));\r\n            // console.log(e.target.files[0]);\r\n\r\n            setIsModalVisible(true)\r\n\r\n        }\r\n    };\r\n\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n\r\n    // const b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\r\n    //     const byteCharacters = atob(b64Data);\r\n    //     const byteArrays = [];\r\n\r\n    //     for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n    //         const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n    //         const byteNumbers = new Array(slice.length);\r\n    //         for (let i = 0; i < slice.length; i++) {\r\n    //             byteNumbers[i] = slice.charCodeAt(i);\r\n    //         }\r\n\r\n    //         const byteArray = new Uint8Array(byteNumbers);\r\n    //         byteArrays.push(byteArray);\r\n    //     }\r\n\r\n    //     const blob = new Blob(byteArrays, { type: contentType });\r\n    //     return blob;\r\n    // }\r\n\r\n    const onImageEdit = async (imgUrl) => {\r\n\r\n        const response = await fetch(imgUrl);\r\n        const blob = await response.blob();\r\n\r\n        return blob\r\n    }\r\n\r\n    const fileUploadAndResize = async () => {\r\n\r\n        // console.log(e.target.files);\r\n        //resize using npm package react image file resize\r\n\r\n        // let files = e.target.files\r\n        // console.log(loading)\r\n\r\n        console.log('files ---> ', files, 'isModalVisible ------> ', isModalVisible)\r\n\r\n        if(files) {\r\n\r\n            let allUploadedFiles = values.images\r\n            const blobFromUrl = await onImageEdit(result)\r\n            setLoading(true)\r\n            console.log('blobfrom url', blobFromUrl)\r\n    \r\n            Resizer.imageFileResizer(blobFromUrl,\r\n            720,\r\n            720,\r\n            'JPEG',\r\n            100,\r\n            0,\r\n            (uri) => {\r\n                // console.log(uri)\r\n                axios.post(`${process.env.REACT_APP_API}/uploadimages`, { image: uri }, {\r\n                    headers: {\r\n                        authToken: user ? user.token : ''\r\n                    }\r\n                }).then(res => {\r\n                    // console.log('IMG UPLOAD RES DATA', res);\r\n                    setLoading(false)\r\n                    setFiles(false)\r\n                    allUploadedFiles.push(res.data)\r\n                    setValues({ ...values, images: allUploadedFiles })\r\n                })\r\n                    .catch(err => {\r\n                        setLoading(false)\r\n                        console.log('img upload error');\r\n                    })\r\n            },\r\n            'base64')\r\n\r\n        }\r\n\r\n\r\n        // send back to server to upload to cloudinary\r\n        // set url to images[] in the parent component state - ProductCreate\r\n    }\r\n\r\n\r\n\r\n    // const imageUrlHandle = async (e) => {\r\n    //     e.preventDefault()\r\n    //     let allUploadedFiles = values.images\r\n    //     setLoading(true)\r\n\r\n\r\n\r\n    //     if (e.target[0].value) {\r\n    //         const blobFromUrl = await onImageEdit(e.target[0].value)\r\n\r\n    //         console.log(blobFromUrl)\r\n\r\n\r\n    //         Resizer.imageFileResizer(blobFromUrl,\r\n    //             720,\r\n    //             720,\r\n    //             'JPEG',\r\n    //             100,\r\n    //             0,\r\n    //             (uri) => {\r\n    //                 axios.post(`${process.env.REACT_APP_API}/uploadimages`, { image: uri }, {\r\n    //                     headers: {\r\n    //                         authToken: user ? user.token : ''\r\n    //                     }\r\n    //                 }).then(res => {\r\n    //                     // console.log('IMG UPLOAD RES DATA', res);\r\n    //                     setLoading(false)\r\n    //                     allUploadedFiles.push(res.data)\r\n    //                     setValues({ ...values, images: allUploadedFiles })\r\n    //                     e.target[0].value = ''\r\n    //                 })\r\n    //                     .catch(err => {\r\n    //                         setLoading(false)\r\n    //                         console.log('img upload error');\r\n    //                     })\r\n    //             }, 'base64')\r\n    //     }\r\n    //     else {\r\n    //         setLoading(false)\r\n    //     }\r\n\r\n    // }\r\n\r\n\r\n\r\n    const handleImageRemove = (public_id) => {\r\n        setLoading(true)\r\n        // console.log('remove image', public_id)\r\n        axios.post(`${process.env.REACT_APP_API}/removeimage`, { public_id }, {\r\n            headers: {\r\n                authToken: user ? user.token : ''\r\n            }\r\n        }).then(res => {\r\n            console.log('removed image', res);\r\n            setLoading(false)\r\n            const { images } = values\r\n            let filteredImages = images.filter((image) => image.public_id !== public_id)\r\n            setValues({ ...values, images: filteredImages })\r\n            document.getElementById('productInput').value = null\r\n        })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setLoading(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"row\">\r\n                {console.log(values.images)}\r\n                {values.images.length > 0 && values.images.map((image) => (\r\n                    <Badge count='X' key={image.public_id} onClick={() => handleImageRemove(image.public_id)} style={{ cursor: 'pointer' }}>\r\n                        <Avatar src={image.url} size={100} shape='square' className='ml-3 mb-2' />\r\n                    </Badge>\r\n                ))}\r\n                {loading && <Spin indicator={antIcon} className='m-3 text-danger' />}\r\n            </div>\r\n\r\n\r\n            {values.images.length <4 ?\r\n            (<div className='row'>\r\n                <label className='btn btn-primary' style={{color:'rgb(87, 67, 67)'}}>Choose File\r\n                    <input type=\"file\"\r\n                        id='productInput'\r\n                        multiple\r\n                        hidden\r\n                        accept='images/*'\r\n                        onChange={handleImage}\r\n                    />\r\n\r\n                </label>\r\n                {/* <form onSubmit={imageUrlHandle} className='ml-3' style={{ marginBottom: 0 }}>\r\n                    <input type=\"text\" id='url' />\r\n                    <button type='submit' className='btn' >GET URL</button>\r\n                </form> */}\r\n                <p id='uploadError' className='text-danger'></p>\r\n\r\n                <ImageCropperModal\r\n                    isModalVisible={isModalVisible}\r\n                    setIsModalVisible={setIsModalVisible}\r\n                    showModal={showModal}\r\n                    srcImg={srcImg}\r\n                    setResult={setResult}\r\n                    setFiles={setFiles}\r\n                />\r\n\r\n            </div>):(<div className='row'>\r\n                <label className='btn btn-primary' disabled style={{color:'rgb(87, 67, 67)',cursor:'default',opacity:'50%'}}>Choose File\r\n                   \r\n                </label>\r\n                \r\n           \r\n\r\n            </div>)}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default FileUpload","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { createProduct } from \"../../../functions/product\";\r\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\r\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\r\nimport FileUpload from \"../../../components/forms/FileUpload\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nconst initialState = {\r\n  title: \"\",\r\n  description: \"\",\r\n  price: \"\",\r\n  categories: [],\r\n  category: \"\",\r\n  subs: [],\r\n  shipping: \"Yes\",\r\n  quantity: \"\",\r\n  images: [\r\n    // {\r\n    //   public_id: \"jwrzeubemmypod99e8lz\",\r\n    //   url:\r\n    //     \"https://res.cloudinary.com/dcqjrwaoi/image/upload/v1599480909/jwrzeubemmypod99e8lz.jpg\",\r\n    // },\r\n    // {\r\n    //   public_id: \"j7uerlvhog1eic0oyize\",\r\n    //   url:\r\n    //     \"https://res.cloudinary.com/dcqjrwaoi/image/upload/v1599480912/j7uerlvhog1eic0oyize.jpg\",\r\n    // },\r\n    // {\r\n    //   public_id: \"ho6wnp7sugyemnmtoogf\",\r\n    //   url:\r\n    //     \"https://res.cloudinary.com/dcqjrwaoi/image/upload/v1599480913/ho6wnp7sugyemnmtoogf.jpg\",\r\n    // },\r\n  ]\r\n  // colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\r\n  // brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"ASUS\"],\r\n  // color: \"White\",\r\n  // brand: \"Apple\",\r\n};\r\n\r\nconst ProductCreate = () => {\r\n  const [values, setValues] = useState(initialState);\r\n  const [subOptions, setSubOptions] = useState([]);\r\n  const [showSub, setShowSub] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  console.log(values)\r\n\r\n  const history = useHistory();\r\n\r\n  // redux\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = () =>\r\n    getCategories().then((c) => setValues({ ...values, categories: c.data }));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    createProduct(values, user.token)\r\n      .then((res) => {\r\n        console.log(res);\r\n        window.alert(`\"${res.data.title}\" is created`);\r\n        // window.location.reload();\r\n        history.push('/admin/products')\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        // if (err.response.status === 400) toast.error(err.response.data);\r\n        toast.error(err.response.data.err);\r\n      });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n    // console.log(e.target.name, \" ----- \", e.target.value);\r\n  };\r\n\r\n  const handleCatagoryChange = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"CLICKED CATEGORY\", e.target.value);\r\n    setValues({ ...values, subs: [], category: e.target.value });\r\n    getCategorySubs(e.target.value).then((res) => {\r\n      console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\r\n      setSubOptions(res.data);\r\n    });\r\n    setShowSub(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n\r\n        <div className=\"col-md-10\">\r\n          {loading ? (\r\n            <LoadingOutlined className=\"text-danger h1\" />\r\n          ) : (\r\n            <h4>Add Product</h4>\r\n          )}\r\n          <hr />\r\n\r\n          {/* {JSON.stringify(values.images)} */}\r\n         \r\n            <div className=\"p-3\" style={{marginLeft:'320px'}}>\r\n            <FileUpload\r\n              values={values}\r\n              setValues={setValues}\r\n              setLoading={setLoading}\r\n            />\r\n          </div>\r\n       \r\n\r\n          \r\n\r\n          <ProductCreateForm\r\n            handleSubmit={handleSubmit}\r\n            handleChange={handleChange}\r\n            setValues={setValues}\r\n            values={values}\r\n            handleCatagoryChange={handleCatagoryChange}\r\n            subOptions={subOptions}\r\n            showSub={showSub}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCreate;","import React, { useEffect, useState } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { getProductsByCount } from \"../../../functions/product\";\r\nimport AdminProductCard from \"../../../components/cards/AdminProductCard\";\r\nimport { removeProduct } from \"../../../functions/product\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nconst AllProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  // redux\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n  }, []);\r\n\r\n  const loadAllProducts = () => {\r\n    setLoading(true);\r\n    getProductsByCount(100)\r\n      .then((res) => {\r\n        setProducts(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleRemove = (slug) => {\r\n    // let answer = window.confirm(\"Delete?\");\r\n    if (window.confirm(\"Delete?\")) {\r\n      // console.log(\"send delete request\", slug);\r\n      removeProduct(slug, user.token)\r\n        .then((res) => {\r\n          loadAllProducts();\r\n          toast.error(`${res.data.title} is deleted`);\r\n        })\r\n        .catch((err) => {\r\n          if (err.response.status === 400) toast.error(err.response.data);\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"\" style={{ marginTop: \"78px\" }}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading...</h4>\r\n          ) : (\r\n            <h4>All Products</h4>\r\n          )}\r\n          <div style={{textAlign:'right', marginRight:'40px'}}>\r\n            \r\n            <Link to='/admin/product'><button className='btn btn-primary' style={{color:'rgb(87 67 67)'}}>Add product</button></Link>\r\n          </div>\r\n          <div className=\"row\">\r\n            \r\n\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Title</th>\r\n                  <th scope=\"col\">Price</th>\r\n                  <th scope=\"col\">Descrption</th>\r\n                  <th scope=\"col\">Manage</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {products.map((product) => (\r\n                  <tr key={product._id}>\r\n                    <th scope=\"row\">{product.title}</th>\r\n                    <td>{product.price}/-</td>\r\n                    <td>{product.description}</td>\r\n                    <td>\r\n                      <Link to={`/admin/product/${product.slug}`}>\r\n                        <AiFillEdit className=\"\" style={{fontSize:'20px'}}/>\r\n                      </Link>\r\n                      ,\r\n                      <MdDelete\r\n                        onClick={() => handleRemove(product.slug)}\r\n                        className=\"text-danger\"\r\n                        style={{fontSize:'20px', cursor:'pointer'}}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllProducts;\r\n","import React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport laptop from \"../../images/laptop.png\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst { Meta } = Card;\r\n\r\nconst AdminProductCard = ({ product, handleRemove }) => {\r\n  // destructure\r\n  const { title, description, images, slug } = product;\r\n\r\n  return (\r\n    <Card\r\n      cover={\r\n        <img\r\n          src={images && images.length ? images[0].url : laptop}\r\n          style={{ height: \"150px\", objectFit: \"cover\" }}\r\n          className=\"p-1\"\r\n        />\r\n      }\r\n      actions={[\r\n        <Link to={`/admin/product/${slug}`}>\r\n          <EditOutlined className=\"text-warning\" />\r\n        </Link>,\r\n        <DeleteOutlined\r\n          onClick={() => handleRemove(slug)}\r\n          className=\"text-danger\"\r\n        />,\r\n      ]}\r\n    >\r\n      <Meta\r\n        title={title}\r\n        description={`${description && description.substring(0, 40)}...`}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AdminProductCard;\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst ProductUpdateForm = ({\r\n  handleSubmit,\r\n  handleChange,\r\n  setValues,\r\n  values,\r\n  handleCategoryChange,\r\n  categories,\r\n  subOptions,\r\n  arrayOfSubs,\r\n  setArrayOfSubs,\r\n  selectedCategory,\r\n}) => {\r\n  // destructure\r\n  const {\r\n    title,\r\n    description,\r\n    price,\r\n    category,\r\n    subs,\r\n    shipping,\r\n    quantity,\r\n    images,\r\n    colors,\r\n    brands,\r\n    color,\r\n    brand,\r\n  } = values;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label>Title</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          className=\"form-control\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Description</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"form-control\"\r\n          value={description}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Price</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          className=\"form-control\"\r\n          value={price}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Shipping</label>\r\n        <select\r\n          value={shipping === \"Yes\" ? \"Yes\" : \"No\"}\r\n          name=\"shipping\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n        >\r\n          <option value=\"No\">No</option>\r\n          <option value=\"Yes\">Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Quantity</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"quantity\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      {/* <div className=\"form-group\">\r\n        <label>Color</label>\r\n        <select\r\n          value={color}\r\n          name=\"color\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n        >\r\n          {colors.map((c) => (\r\n            <option key={c} value={c}>\r\n              {c}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div> */}\r\n\r\n      {/* <div className=\"form-group\">\r\n        <label>Brand</label>\r\n        <select\r\n          value={brand}\r\n          name=\"brand\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n        >\r\n          {brands.map((b) => (\r\n            <option key={b} value={b}>\r\n              {b}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div> */}\r\n\r\n      <div className=\"form-group\">\r\n        <label>Category</label>\r\n        <select\r\n          name=\"category\"\r\n          className=\"form-control\"\r\n          onChange={handleCategoryChange}\r\n          value={selectedCategory ? selectedCategory : category._id}\r\n        >\r\n          {categories.length > 0 &&\r\n            categories.map((c) => (\r\n              <option key={c._id} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* <div>\r\n        <label>Sub Categories</label>\r\n        <Select\r\n          mode=\"multiple\"\r\n          style={{ width: \"100%\" }}\r\n          placeholder=\"Please select\"\r\n          value={arrayOfSubs}\r\n          onChange={(value) => setArrayOfSubs(value)}\r\n        >\r\n          {subOptions.length &&\r\n            subOptions.map((s) => (\r\n              <Option key={s._id} value={s._id}>\r\n                {s.name}\r\n              </Option>\r\n            ))}\r\n        </Select>\r\n      </div> */}\r\n\r\n      <br />\r\n      <div style={{textAlign:'center'}}>\r\n              <button className=\"btn btn-outline-info\" style={{color:'rgb(87 67 67)',borderColor:'rgb(87 67 67)'}}>Save</button>\r\n\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProductUpdateForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getProduct, updateProduct } from \"../../../functions/product\";\r\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\r\nimport FileUpload from \"../../../components/forms/FileUpload\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport ProductUpdateForm from \"../../../components/forms/ProductUpdateForm\";\r\n\r\nconst initialState = {\r\n  title: \"\",\r\n  description: \"\",\r\n  price: \"\",\r\n  category: \"\",\r\n  subs: [],\r\n  shipping: \"\",\r\n  quantity: \"\",\r\n  images: [],\r\n  colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\r\n  brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"ASUS\"],\r\n  color: \"\",\r\n  brand: \"\",\r\n};\r\n\r\nconst ProductUpdate = ({ match, history }) => {\r\n  // state\r\n  const [values, setValues] = useState(initialState);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subOptions, setSubOptions] = useState([]);\r\n  const [arrayOfSubs, setArrayOfSubs] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  // router\r\n  const { slug } = match.params;\r\n\r\n  useEffect(() => {\r\n    loadProduct();\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadProduct = () => {\r\n    getProduct(slug).then((p) => {\r\n      // console.log(\"single product\", p);\r\n      // 1 load single proudct\r\n      setValues({ ...values, ...p.data });\r\n      // 2 load single product category subs\r\n      getCategorySubs(p.data.category._id).then((res) => {\r\n        setSubOptions(res.data); // on first load, show default subs\r\n      });\r\n      // 3 prepare array of sub ids to show as default sub values in antd Select\r\n      let arr = [];\r\n      p.data.subs.map((s) => {\r\n        arr.push(s._id);\r\n      });\r\n      console.log(\"ARR\", arr);\r\n      setArrayOfSubs((prev) => arr); // required for ant design select to work\r\n    });\r\n  };\r\n\r\n  const loadCategories = () =>\r\n    getCategories().then((c) => {\r\n      console.log(\"GET CATEGORIES IN UPDATE PRODUCT\", c.data);\r\n      setCategories(c.data);\r\n    });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    values.subs = arrayOfSubs;\r\n    values.category = selectedCategory ? selectedCategory : values.category;\r\n\r\n    updateProduct(slug, values, user.token)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        toast.success(`\"${res.data.title}\" is updated`);\r\n        history.push(\"/admin/products\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        toast.error(err.response.data.err);\r\n      });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n    // console.log(e.target.name, \" ----- \", e.target.value);\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"CLICKED CATEGORY\", e.target.value);\r\n    setValues({ ...values, subs: [] });\r\n\r\n    setSelectedCategory(e.target.value);\r\n\r\n    getCategorySubs(e.target.value).then((res) => {\r\n      console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\r\n      setSubOptions(res.data);\r\n    });\r\n\r\n    console.log(\"EXISTING CATEGORY values.category\", values.category);\r\n\r\n    // if user clicks back to the original category\r\n    // show its sub categories in default\r\n    if (values.category._id === e.target.value) {\r\n      loadProduct();\r\n    }\r\n    // clear old sub category ids\r\n    setArrayOfSubs([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n\r\n        <div className=\"col-md-10\">\r\n          {loading ? (\r\n            <LoadingOutlined className=\"text-danger h1\" />\r\n          ) : (\r\n            <h4>Product update</h4>\r\n          )}\r\n\r\n          {/* {JSON.stringify(values)} */}\r\n\r\n          <div className=\"p-3\" style={{marginLeft:'320px'}}>\r\n            <FileUpload\r\n              values={values}\r\n              setValues={setValues}\r\n              setLoading={setLoading}\r\n            />\r\n          </div>\r\n\r\n          <ProductUpdateForm\r\n            handleSubmit={handleSubmit}\r\n            handleChange={handleChange}\r\n            setValues={setValues}\r\n            values={values}\r\n            handleCategoryChange={handleCategoryChange}\r\n            categories={categories}\r\n            subOptions={subOptions}\r\n            arrayOfSubs={arrayOfSubs}\r\n            setArrayOfSubs={setArrayOfSubs}\r\n            selectedCategory={selectedCategory}\r\n          />\r\n          <hr />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductUpdate;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ProductListItems = ({ product }) => {\r\n  const {\r\n    price,\r\n    category,\r\n    subs,\r\n    shipping,\r\n    color,\r\n    brand,\r\n    quantity,\r\n    sold,\r\n  } = product;\r\n\r\n  return (\r\n    <ul className=\"list-group\">\r\n      <li className=\"list-group-item\">\r\n        Price{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          $ {price}\r\n        </span>\r\n      </li>\r\n\r\n      {category && (\r\n        <li className=\"list-group-item\">\r\n          Category{\" \"}\r\n          <Link\r\n            to={`/category/${category.slug}`}\r\n            className=\"label label-default label-pill pull-xs-right\"\r\n          >\r\n            {category.name}\r\n          </Link>\r\n        </li>\r\n      )}\r\n\r\n      {subs && (\r\n        <li className=\"list-group-item\">\r\n          Sub Categories\r\n          {subs.map((s) => (\r\n            <Link\r\n              key={s._id}\r\n              to={`/sub/${s.slug}`}\r\n              className=\"label label-default label-pill pull-xs-right\"\r\n            >\r\n              {s.name}\r\n            </Link>\r\n          ))}\r\n        </li>\r\n      )}\r\n\r\n      {/* <li className=\"list-group-item\">\r\n        Shipping{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {shipping}\r\n        </span>\r\n      </li> */}\r\n\r\n      {/* <li className=\"list-group-item\">\r\n        Color{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {color}\r\n        </span>\r\n      </li> */}\r\n\r\n      {/* <li className=\"list-group-item\">\r\n        Brand{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {brand}\r\n        </span>\r\n      </li> */}\r\n\r\n      <li className=\"list-group-item\">\r\n        Available{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {quantity}\r\n        </span>\r\n      </li>\r\n\r\n      <li className=\"list-group-item\">\r\n        Sold{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {sold}\r\n        </span>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ProductListItems;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, Button } from \"antd\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { StarOutlined } from \"@ant-design/icons\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst RatingModal = ({ children }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  let history = useHistory();\r\n  let { slug } = useParams();\r\n\r\n  const handleModal = () => {\r\n    if (user && user.token) {\r\n      setModalVisible(true);\r\n    } else {\r\n      history.push({\r\n        pathname: \"/login\",\r\n        state: { from: `/product/${slug}` },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div onClick={handleModal}>\r\n        <StarOutlined className=\"text-danger\" /> <br />{\" \"}\r\n        {user ? \"Leave rating\" : \"Login to leave rating\"}\r\n      </div>\r\n      <Modal\r\n        title=\"Leave your rating\"\r\n        centered\r\n        visible={modalVisible}\r\n        onOk={() => {\r\n          setModalVisible(false);\r\n          toast.success(\"Thanks for your review. It will apper soon\");\r\n        }}\r\n        onCancel={() => setModalVisible(false)}\r\n      >\r\n        {children}\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RatingModal;\r\n","import React, { useState } from \"react\";\r\nimport { Card, Tabs, Tooltip } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport Laptop from \"../../images/laptop.png\";\r\nimport ProductListItems from \"./ProductListItems\";\r\nimport StarRating from \"react-star-ratings\";\r\nimport RatingModal from \"../modal/RatingModal\";\r\nimport { showAverage } from \"../../functions/rating\";\r\nimport _ from \"lodash\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addToWishlist } from \"../../functions/user\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n// this is childrend component of Product page\r\nconst SingleProduct = ({ product, onStarClick, star }) => {\r\n  const [tooltip, setTooltip] = useState(\"Click to add\");\r\n\r\n  // redux\r\n  const { user, cart } = useSelector((state) => ({ ...state }));\r\n  const dispatch = useDispatch();\r\n  // router\r\n  let history = useHistory();\r\n\r\n  const { title, images, description, _id } = product;\r\n\r\n  const handleAddToCart = () => {\r\n    // create cart array\r\n    let cart = [];\r\n    if (typeof window !== \"undefined\") {\r\n      // if cart is in local storage GET it\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      // push new product to cart\r\n      cart.push({\r\n        ...product,\r\n        count: 1,\r\n      });\r\n      // remove duplicates\r\n      let unique = _.uniqWith(cart, _.isEqual);\r\n      // save to local storage\r\n      // console.log('unique', unique)\r\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n      // show tooltip\r\n      setTooltip(\"Added\");\r\n\r\n      // add to reeux state\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: unique,\r\n      });\r\n      // show cart items in side drawer\r\n      dispatch({\r\n        type: \"SET_VISIBLE\",\r\n        payload: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleAddToWishlist = (e) => {\r\n    e.preventDefault();\r\n    addToWishlist(product._id, user.token).then((res) => {\r\n      console.log(\"ADDED TO WISHLIST\", res.data);\r\n      toast.success(\"Added to wishlist\");\r\n      history.push(\"/user/wishlist\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-md-6\">\r\n        {images && images.length ? (\r\n          <Carousel showArrows={true} height='500px' autoPlay infiniteLoop>\r\n            {images && images.map((i) => <img src={i.url} key={i.public_id} />)}\r\n          </Carousel>\r\n        ) \r\n        : (\r\n          <Card> <img src=\"Laptop\" alt=\"\" /> </Card>\r\n        )\r\n        }\r\n\r\n        <Tabs type=\"card\">\r\n          <TabPane tab=\"Description\" key=\"1\">\r\n            {description && description}\r\n          </TabPane>\r\n          \r\n        </Tabs>\r\n        \r\n      </div>\r\n\r\n      <div className=\"col-md-6\">\r\n        <h1 >{title}</h1>\r\n\r\n        {product && product.ratings && product.ratings.length > 0 ? (\r\n          showAverage(product)\r\n        ) : (\r\n          <div className=\"text-center pt-1 pb-3\">No rating yet</div>\r\n        )}\r\n\r\n        <Card\r\n          actions={[\r\n            // <Tooltip placement=\"top\" title={tooltip}>\r\n              <a onClick={handleAddToCart} disabled={product.quantity < 1}>\r\n                <ShoppingCartOutlined className=\"text-danger\" />\r\n                <br />\r\n                {product.quantity < 1 ? \"Out of Stock\" : \"Add To Cart\"}\r\n              </a>,\r\n            <a onClick={handleAddToWishlist}>\r\n              <HeartOutlined className=\"text-info\" /> <br /> Add to Wishlist\r\n            </a>,\r\n            <RatingModal>\r\n              <StarRating\r\n                name={_id}\r\n                numberOfStars={5}\r\n                rating={star}\r\n                changeRating={onStarClick}\r\n                isSelectable={true}\r\n                starRatedColor=\"yellow\"\r\n              />\r\n            </RatingModal>,\r\n          ]}\r\n        >\r\n          <ProductListItems product={product} />\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleProduct;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { getProduct, productStar } from \"../functions/product\";\r\nimport SingleProduct from \"../components/cards/SingleProduct\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getRelated } from \"../functions/product\";\r\nimport ProductCard from \"../components/cards/ProductCard\";\r\n\r\nconst Product = ({ match }) => {\r\n  const [product, setProduct] = useState({});\r\n  const [related, setRelated] = useState([]);\r\n  const [star, setStar] = useState(0);\r\n  // redux\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const { slug } = match.params;\r\n\r\n  useEffect(() => {\r\n    loadSingleProduct();\r\n  }, [slug]);\r\n\r\n  useEffect(() => {\r\n    if (product.ratings && user) {\r\n      let existingRatingObject = product.ratings.find(\r\n        (ele) => ele.postedBy.toString() === user._id.toString()\r\n      );\r\n      existingRatingObject && setStar(existingRatingObject.star); // current user's star\r\n    }\r\n  });\r\n\r\n  const loadSingleProduct = () => {\r\n    getProduct(slug).then((res) => {\r\n      setProduct(res.data);\r\n      // load related\r\n      getRelated(res.data._id).then((res) => setRelated(res.data));\r\n    });\r\n  };\r\n\r\n  const onStarClick = (newRating, name) => {\r\n    setStar(newRating);\r\n    console.table(newRating, name);\r\n    productStar(name, newRating, user.token).then((res) => {\r\n      console.log(\"rating clicked\", res.data);\r\n      loadSingleProduct(); // if you want to show updated rating in real time\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\" style={{marginTop:'78px'}}>\r\n      <div className=\"row pt-4\">\r\n        <SingleProduct\r\n          product={product}\r\n          onStarClick={onStarClick}\r\n          star={star}\r\n        />\r\n      </div>\r\n\r\n      {/* <div className=\"row\">\r\n        <div className=\"col text-center pt-5 pb-5\">\r\n          <hr />\r\n          <h4>Related Products</h4>\r\n          <hr />\r\n        </div>\r\n      </div> */}\r\n\r\n      {/* <div className=\"row pb-5\">\r\n        {related.length ? (\r\n          related.map((r) => (\r\n            <div key={r._id} className=\"col-md-4\">\r\n              <ProductCard product={r} />\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center col\">No Products Found</div>\r\n        )}\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getCategory } from \"../../functions/category\";\r\nimport ProductCard from \"../../components/cards/ProductCard\";\r\n\r\nconst CategoryHome = ({ match }) => {\r\n  const [category, setCategory] = useState({});\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { slug } = match.params;\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getCategory(slug).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4));\r\n      setCategory(res.data.category);\r\n      setProducts(res.data.products);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\r\n              Loading...\r\n            </h4>\r\n          ) : (\r\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\r\n              {products.length} Products in \"{category.name}\" category\r\n            </h4>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        {products.map((p) => (\r\n          <div className=\"col\" key={p._id}>\r\n            <ProductCard product={p} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryHome;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getSub } from \"../../functions/sub\";\r\nimport ProductCard from \"../../components/cards/ProductCard\";\r\n\r\nconst SubHome = ({ match }) => {\r\n  const [sub, setSub] = useState({});\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { slug } = match.params;\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getSub(slug).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4));\r\n      setSub(res.data.sub);\r\n      setProducts(res.data.products);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\r\n              Loading...\r\n            </h4>\r\n          ) : (\r\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\r\n              {products.length} Products in \"{sub.name}\" sub category\r\n            </h4>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        {products.map((p) => (\r\n          <div className=\"col\" key={p._id}>\r\n            <ProductCard product={p} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubHome;\r\n","import React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\nconst Star = ({ starClick, numberOfStars }) => (\r\n  <>\r\n    <StarRating\r\n      changeRating={() => starClick(numberOfStars)}\r\n      numberOfStars={numberOfStars}\r\n      starDimension=\"20px\"\r\n      starSpacing=\"2px\"\r\n      starHoverColor=\"red\"\r\n      starEmptyColor=\"red\"\r\n    />\r\n    <br />\r\n  </>\r\n);\r\n\r\nexport default Star;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  getProductsByCount,\r\n  fetchProductsByFilter,\r\n} from \"../functions/product\";\r\nimport { getCategories } from \"../functions/category\";\r\nimport { getSubs } from \"../functions/sub\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport ProductCard from \"../components/cards/ProductCard\";\r\nimport { Menu, Slider, Checkbox, Radio } from \"antd\";\r\nimport {\r\n  DollarOutlined,\r\n  DownSquareOutlined,\r\n  StarOutlined,\r\n} from \"@ant-design/icons\";\r\nimport Star from \"../components/forms/Star\";\r\n\r\nconst { SubMenu, ItemGroup } = Menu;\r\n\r\nconst Shop = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [price, setPrice] = useState([0, 0]);\r\n  const [ok, setOk] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [categoryIds, setCategoryIds] = useState([]);\r\n  const [star, setStar] = useState(\"\");\r\n  const [subs, setSubs] = useState([]);\r\n  const [sub, setSub] = useState(\"\");\r\n  const [brands, setBrands] = useState([\r\n    \"Apple\",\r\n    \"Samsung\",\r\n    \"Microsoft\",\r\n    \"Lenovo\",\r\n    \"ASUS\",\r\n  ]);\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [colors, setColors] = useState([\r\n    \"Black\",\r\n    \"Brown\",\r\n    \"Silver\",\r\n    \"White\",\r\n    \"Blue\",\r\n  ]);\r\n  const [color, setColor] = useState(\"\");\r\n  const [shipping, setShipping] = useState(\"\");\r\n\r\n  let dispatch = useDispatch();\r\n  let { search } = useSelector((state) => ({ ...state }));\r\n  const { text } = search;\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n    // fetch categories\r\n    getCategories().then((res) => setCategories(res.data));\r\n    // fetch subcategories\r\n    getSubs().then((res) => setSubs(res.data));\r\n  }, []);\r\n\r\n  const fetchProducts = (arg) => {\r\n    fetchProductsByFilter(arg).then((res) => {\r\n      setProducts(res.data);\r\n    });\r\n  };\r\n\r\n  // 1. load products by default on page load\r\n  const loadAllProducts = () => {\r\n    getProductsByCount(12).then((p) => {\r\n      setProducts(p.data);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  // 2. load products on user search input\r\n  useEffect(() => {\r\n    const delayed = setTimeout(() => {\r\n      fetchProducts({ query: text });\r\n      if (!text) {\r\n        loadAllProducts();\r\n      }\r\n    }, 300);\r\n    return () => clearTimeout(delayed);\r\n  }, [text]);\r\n\r\n  // 3. load products based on price range\r\n  useEffect(() => {\r\n    console.log(\"ok to request\");\r\n    fetchProducts({ price });\r\n  }, [ok]);\r\n\r\n  const handleSlider = (value) => {\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n\r\n    // reset\r\n    setCategoryIds([]);\r\n    setPrice(value);\r\n    setStar(\"\");\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n    setTimeout(() => {\r\n      setOk(!ok);\r\n    }, 300);\r\n  };\r\n\r\n  // 4. load products based on category\r\n  // show categories in a list of checkbox\r\n  const showCategories = () =>\r\n    categories.map((c) => (\r\n      <div key={c._id}>\r\n        <Checkbox\r\n          onChange={handleCheck}\r\n          className=\"pb-2 pl-4 pr-4\"\r\n          value={c._id}\r\n          name=\"category\"\r\n          checked={categoryIds.includes(c._id)}\r\n        >\r\n          {c.name}\r\n        </Checkbox>\r\n        <br />\r\n      </div>\r\n    ));\r\n\r\n  // handle check for categories\r\n  const handleCheck = (e) => {\r\n    // reset\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setStar(\"\");\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n    // console.log(e.target.value);\r\n    let inTheState = [...categoryIds];\r\n    let justChecked = e.target.value;\r\n    let foundInTheState = inTheState.indexOf(justChecked); // index or -1\r\n\r\n    // indexOf method ?? if not found returns -1 else return index [1,2,3,4,5]\r\n    if (foundInTheState === -1) {\r\n      inTheState.push(justChecked);\r\n    } else {\r\n      // if found pull out one item from index\r\n      inTheState.splice(foundInTheState, 1);\r\n    }\r\n\r\n    setCategoryIds(inTheState);\r\n    // console.log(inTheState);\r\n    fetchProducts({ category: inTheState });\r\n  };\r\n\r\n  // 5. show products by star rating\r\n  const handleStarClick = (num) => {\r\n    // console.log(num);\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(num);\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n    fetchProducts({ stars: num });\r\n  };\r\n\r\n  const showStars = () => (\r\n    <div className=\"pr-4 pl-4 pb-2\">\r\n      <Star starClick={handleStarClick} numberOfStars={5} />\r\n      <Star starClick={handleStarClick} numberOfStars={4} />\r\n      <Star starClick={handleStarClick} numberOfStars={3} />\r\n      <Star starClick={handleStarClick} numberOfStars={2} />\r\n      <Star starClick={handleStarClick} numberOfStars={1} />\r\n    </div>\r\n  );\r\n\r\n  // 6. show products by sub category\r\n  const showSubs = () =>\r\n    subs.map((s) => (\r\n      <div\r\n        key={s._id}\r\n        onClick={() => handleSub(s)}\r\n        className=\"p-1 m-1 badge badge-secondary\"\r\n        style={{ cursor: \"pointer\" }}\r\n      >\r\n        {s.name}\r\n      </div>\r\n    ));\r\n\r\n  const handleSub = (sub) => {\r\n    // console.log(\"SUB\", sub);\r\n    setSub(sub);\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n    fetchProducts({ sub });\r\n  };\r\n\r\n  // 7. show products based on brand name\r\n  const showBrands = () =>\r\n    brands.map((b) => (\r\n      <Radio\r\n        key={b}\r\n        value={b}\r\n        name={b}\r\n        checked={b === brand}\r\n        onChange={handleBrand}\r\n        className=\"pb-1 pl-4 pr-4\"\r\n      >\r\n        {b}\r\n      </Radio>\r\n    ));\r\n\r\n  const handleBrand = (e) => {\r\n    setSub(\"\");\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setColor(\"\");\r\n    setBrand(e.target.value);\r\n    setShipping(\"\");\r\n    fetchProducts({ brand: e.target.value });\r\n  };\r\n\r\n  // 8. show products based on color\r\n  const showColors = () =>\r\n    colors.map((c) => (\r\n      <Radio\r\n        key={c}\r\n        value={c}\r\n        name={c}\r\n        checked={c === color}\r\n        onChange={handleColor}\r\n        className=\"pb-1 pl-4 pr-4\"\r\n      >\r\n        {c}\r\n      </Radio>\r\n    ));\r\n\r\n  const handleColor = (e) => {\r\n    setSub(\"\");\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setBrand(\"\");\r\n    setColor(e.target.value);\r\n    setShipping(\"\");\r\n    fetchProducts({ color: e.target.value });\r\n  };\r\n\r\n  // 9. show products based on shipping yes/no\r\n  const showShipping = () => (\r\n    <>\r\n      <Checkbox\r\n        className=\"pb-2 pl-4 pr-4\"\r\n        onChange={handleShippingchange}\r\n        value=\"Yes\"\r\n        checked={shipping === \"Yes\"}\r\n      >\r\n        Yes\r\n      </Checkbox>\r\n\r\n      <Checkbox\r\n        className=\"pb-2 pl-4 pr-4\"\r\n        onChange={handleShippingchange}\r\n        value=\"No\"\r\n        checked={shipping === \"No\"}\r\n      >\r\n        No\r\n      </Checkbox>\r\n    </>\r\n  );\r\n\r\n  const handleShippingchange = (e) => {\r\n    setSub(\"\");\r\n    dispatch({\r\n      type: \"SEARCH_QUERY\",\r\n      payload: { text: \"\" },\r\n    });\r\n    setPrice([0, 0]);\r\n    setCategoryIds([]);\r\n    setStar(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(e.target.value);\r\n    fetchProducts({ shipping: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2 pt-2\" >\r\n          {/* <h4>Search/Filter</h4> */}\r\n          <hr />\r\n\r\n          <Menu\r\n            defaultOpenKeys={[\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"]}\r\n            mode=\"inline\"\r\n          >\r\n            {/* price */}\r\n            <SubMenu\r\n              key=\"1\"\r\n              title={\r\n                <span className=\"h6\">\r\n                  <DollarOutlined /> Price\r\n                </span>\r\n              }\r\n            >\r\n              <div>\r\n                <Slider\r\n                  className=\"ml-4 mr-4\"\r\n                  tipFormatter={(v) => `$${v}`}\r\n                  range\r\n                  value={price}\r\n                  onChange={handleSlider}\r\n                  max=\"5000\"\r\n                />\r\n              </div>\r\n            </SubMenu>\r\n\r\n            {/* category */}\r\n            <SubMenu\r\n              key=\"2\"\r\n              title={\r\n                <span className=\"h6\">\r\n                  <DownSquareOutlined /> Categories\r\n                </span>\r\n              }\r\n            >\r\n              <div style={{ maringTop: \"-10px\" }}>{showCategories()}</div>\r\n            </SubMenu>\r\n\r\n            {/* stars */}\r\n            <SubMenu\r\n              key=\"3\"\r\n              title={\r\n                <span className=\"h6\">\r\n                  <StarOutlined /> Rating\r\n                </span>\r\n              }\r\n            >\r\n              <div style={{ maringTop: \"-10px\" }}>{showStars()}</div>\r\n            </SubMenu>\r\n\r\n            {/* sub category */}\r\n            <SubMenu\r\n              key=\"4\"\r\n              title={\r\n                <span className=\"h6\">\r\n                  <DownSquareOutlined /> Sub Categories\r\n                </span>\r\n              }\r\n            >\r\n              <div style={{ maringTop: \"-10px\" }} className=\"pl-4 pr-4\">\r\n                {showSubs()}\r\n              </div>\r\n            </SubMenu>\r\n\r\n            {/* brands */}\r\n            {/* <SubMenu\r\n              key=\"5\"\r\n              title={\r\n                <span className=\"h6\">\r\n                  <DownSquareOutlined /> Brands\r\n                </span>\r\n              }\r\n            >\r\n              <div style={{ maringTop: \"-10px\" }} className=\"pr-5\">\r\n                {showBrands()}\r\n              </div>\r\n            </SubMenu> */}\r\n\r\n            {/* colors */}\r\n            {/* <SubMenu\r\n              key=\"6\"\r\n              title={\r\n                <span className=\"h6\">\r\n                  <DownSquareOutlined /> Colors\r\n                </span>\r\n              }\r\n            >\r\n              <div style={{ maringTop: \"-10px\" }} className=\"pr-5\">\r\n                {showColors()}\r\n              </div>\r\n            </SubMenu> */}\r\n\r\n            {/* shipping */}\r\n            {/* <SubMenu\r\n              key=\"7\"\r\n              title={\r\n                <span className=\"h6\">\r\n                  <DownSquareOutlined /> Shipping\r\n                </span>\r\n              }\r\n            >\r\n              <div style={{ maringTop: \"-10px\" }} className=\"pr-5\">\r\n                {showShipping()}\r\n              </div>\r\n            </SubMenu> */}\r\n          </Menu>\r\n        </div>\r\n\r\n        <div className=\"col-md-10 pt-2\">\r\n          {/* {loading ? (\r\n            <h4 className=\"text-danger\">Loading...</h4>\r\n          ) : (\r\n            <h4 className=\"text-danger\">Products</h4>\r\n          )} */}\r\n\r\n          {products.length < 1 && <p>No products found</p>}\r\n\r\n          <div className=\"row pb-5\">\r\n            {products.map((p) => (\r\n              <div key={p._id} className=\"col-md-3 mt-3\">\r\n                <ProductCard product={p} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","import React from \"react\";\r\nimport ModalImage from \"react-modal-image\";\r\nimport laptop from \"../../images/laptop.png\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  CheckCircleOutlined,\r\n  CloseCircleOutlined,\r\n  CloseOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nconst ProductCardInCheckout = ({ p }) => {\r\n  const colors = [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"];\r\n  let dispatch = useDispatch();\r\n\r\n  // const handleColorChange = (e) => {\r\n  //   console.log(\"color changed\", e.target.value);\r\n\r\n  //   let cart = [];\r\n  //   if (typeof window !== \"undefined\") {\r\n  //     if (localStorage.getItem(\"cart\")) {\r\n  //       cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n  //     }\r\n\r\n  //     cart.map((product, i) => {\r\n  //       if (product._id === p._id) {\r\n  //         cart[i].color = e.target.value;\r\n  //       }\r\n  //     });\r\n\r\n  //     //  console.log('cart udpate color', cart)\r\n  //     localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  //     dispatch({\r\n  //       type: \"ADD_TO_CART\",\r\n  //       payload: cart,\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  const handleQuantityChange = (e) => {\r\n    // console.log(\"available quantity\", p.quantity);\r\n    let count = e.target.value < 1 ? 1 : e.target.value;\r\n\r\n    if (count > p.quantity) {\r\n      toast.error(`Max available quantity: ${p.quantity}`);\r\n      return;\r\n    }\r\n\r\n    let cart = [];\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n\r\n      cart.map((product, i) => {\r\n        if (product._id == p._id) {\r\n          cart[i].count = count;\r\n        }\r\n      });\r\n\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: cart,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    // console.log(p._id, \"to remove\");\r\n    let cart = [];\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      // [1,2,3,4,5]\r\n      cart.map((product, i) => {\r\n        if (product._id === p._id) {\r\n          cart.splice(i, 1);\r\n        }\r\n      });\r\n\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: cart,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <tbody>\r\n      \r\n      <tr style={{backgroundColor:'#d9cccc'}}>\r\n        <td style={{maxWidth:'20px'}}>\r\n          <div style={{ width: \"100px\", height: \"auto\" }}>\r\n            {p.images.length ? (\r\n              <ModalImage small={p.images[0].url} large={p.images[0].url} />\r\n            ) : (\r\n              <ModalImage/>\r\n            )}\r\n          </div>\r\n        </td>\r\n        <td>{p.title}</td>\r\n\r\n        {!p.offerPrice ? (<td>${p.price}</td>):(<td>${p.offerPrice}</td>)}\r\n        {/* <td>{p.brand}</td> */}\r\n        {/* <td>\r\n          <select\r\n            onChange={handleColorChange}\r\n            name=\"color\"\r\n            className=\"form-control\"\r\n          >\r\n            {p.color ? (\r\n              <option value={p.color}>{p.color}</option>\r\n            ) : (\r\n              <option>Select</option>\r\n            )}\r\n            {colors\r\n              .filter((c) => c !== p.color)\r\n              .map((c) => (\r\n                <option key={c} value={c}>\r\n                  {c}\r\n                </option>\r\n              ))}\r\n          </select>\r\n        </td> */}\r\n        <td className=\"\" style={{maxWidth:'20px'}}>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            value={p.count}\r\n            onChange={handleQuantityChange}\r\n          />\r\n        </td>\r\n        {/* <td className=\"text-center\">\r\n          {p.shipping === \"Yes\" ? (\r\n            <CheckCircleOutlined className=\"text-success\" />\r\n          ) : (\r\n            <CloseCircleOutlined className=\"text-danger\" />\r\n          )}\r\n        </td> */}\r\n        <td className=\"text-center\">\r\n          <CloseOutlined\r\n            onClick={handleRemove}\r\n            className=\"text-danger pointer\"\r\n          />\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  );\r\n};\r\n\r\nexport default ProductCardInCheckout;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProductCardInCheckout from \"../components/cards/ProductCardInCheckout\";\r\nimport { userCart } from \"../functions/user\";\r\n\r\nconst Cart = ({ history }) => {\r\n  const { cart, user } = useSelector((state) => ({ ...state }));\r\n  const dispatch = useDispatch();\r\n\r\n  const getTotal = () => {\r\n    return cart.reduce((currentValue, nextValue) => {\r\n      return currentValue + nextValue.count * nextValue.price;\r\n    }, 0);\r\n  };\r\n\r\n  const saveOrderToDb = () => {\r\n    // console.log(\"cart\", JSON.stringify(cart, null, 4));\r\n    userCart(cart, user.token)\r\n      .then((res) => {\r\n        console.log(\"CART POST RES\", res);\r\n        if (res.data.ok) history.push(\"/checkout\");\r\n      })\r\n      .catch((err) => console.log(\"cart save err\", err));\r\n  };\r\n\r\n  const saveCashOrderToDb = () => {\r\n    // console.log(\"cart\", JSON.stringify(cart, null, 4));\r\n    dispatch({\r\n      type: \"COD\",\r\n      payload: true,\r\n    });\r\n    userCart(cart, user.token)\r\n      .then((res) => {\r\n        console.log(\"CART POST RES\", res);\r\n        if (res.data.ok) history.push(\"/checkout\");\r\n      })\r\n      .catch((err) => console.log(\"cart save err\", err));\r\n  };\r\n\r\n  const showCartItems = () => (\r\n    <table className=\"table table-bordered\">\r\n      <thead className=\"thead-light\">\r\n        <tr>\r\n          <th scope=\"col\">Image</th>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Price</th>\r\n          {/* <th scope=\"col\">Brand</th>\r\n          <th scope=\"col\">Color</th> */}\r\n          <th scope=\"col\">Count</th>\r\n          {/* <th scope=\"col\">Shipping</th> */}\r\n          <th scope=\"col\">Remove</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      {cart.map((p) => (\r\n        <ProductCardInCheckout key={p._id} p={p} />\r\n      ))}\r\n    </table>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid pt-2\" style={{marginTop:'70px', backgroundColor:'#f1f1f1'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8\">\r\n          <h4>Cart / {cart.length} Product</h4>\r\n\r\n          {!cart.length ? (\r\n            <p>\r\n              No products in cart. <Link to=\"/shop\">Continue Shopping.</Link>\r\n            </p>\r\n          ) : (\r\n            showCartItems()\r\n          )}\r\n        </div>\r\n        <div className=\"col-md-4 \">\r\n          <div className='card' style={{padding:'20px', backgroundColor:'#dfdbdb',marginTop:'40px'}}>\r\n             <h4>Order Summary</h4>\r\n          <hr />\r\n          <p>Products</p>\r\n          {cart.map((c, i) => (\r\n            <div key={i}>\r\n              <p>\r\n                {c.title} x {c.count} = ${c.price * c.count}\r\n              </p>\r\n            </div>\r\n          ))}\r\n          <hr />\r\n          Total: <b>${getTotal()}</b>\r\n          <hr />\r\n          {user ? (\r\n            <>\r\n              <button\r\n                onClick={saveOrderToDb}\r\n                className=\"btn btn-sm btn-primary mt-2\"\r\n                disabled={!cart.length}\r\n                style={{backgroundColor: \"rgb(87, 67, 67)\",color:'white'}}\r\n              >\r\n                Proceed to Checkout\r\n              </button>\r\n              {/* <br /> */}\r\n              <button\r\n                onClick={saveCashOrderToDb}\r\n                className=\"btn btn-sm btn-primary mt-2\"\r\n                disabled={!cart.length}\r\n                style={{backgroundColor:\"rgb(87, 67, 67)\",color:'white'}}\r\n              >\r\n                Pay Cash on Delivery\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <button className=\"btn btn-sm btn-primary mt-2\">\r\n              <Link\r\n                to={{\r\n                  pathname: \"/login\",\r\n                  state: { from: \"cart\" },\r\n                }}\r\n              >\r\n                Login to Checkout\r\n              </Link>\r\n            </button>\r\n          )}\r\n          </div>\r\n         \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport {\r\n  getUserCart,\r\n  emptyUserCart,\r\n  saveUserAddress,\r\n  applyCoupon,\r\n  getAddress,\r\n  deleteAddress,\r\n  createCashOrderForUser,\r\n} from \"../functions/user\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport \"./Checkout.css\";\r\nimport { createAddress } from \"../functions/user\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nconst Checkout = ({ history }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  // const [gettedAddress, setGettedAddress] = useState()\r\n  // const [address, setAddress] = useState({houseName:\"\",street:'',city:'',district:'',state:''});\r\n  const [address, setAddress] = useState({\r\n    housename: \"\",\r\n    street: \"\",\r\n    city: \"\",\r\n    zip: \"\",\r\n    district: \"\",\r\n    state: \"\",\r\n    country: \"\",\r\n  });\r\n  console.log(address);\r\n\r\n  const [gettedAddress, setGettedAddress] = useState();\r\n  console.log(gettedAddress)\r\n\r\n  const [addressSaved, setAddressSaved] = useState(false);\r\n  const [coupon, setCoupon] = useState(\"\");\r\n  // discount price\r\n  const [totalAfterDiscount, setTotalAfterDiscount] = useState(0);\r\n  const [discountError, setDiscountError] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const { user, COD } = useSelector((state) => ({ ...state }));\r\n  const couponTrueOrFalse = useSelector((state) => state.coupon);\r\n  const [add, setAdd] = useState(false)\r\n  const [formvvalue, setFormvalue] = useState()\r\n  \r\n  \r\n  \r\n  useEffect(async() => {\r\n    loadcart();\r\n    loadAddress();\r\n    }, []);\r\n\r\n    const loadcart = ()=>{\r\n       getUserCart(user.token).then(async(res) => {\r\n      console.log(\"user cart res\", JSON.stringify(res.data, null, 4));\r\n      setProducts(res.data.products);\r\n      setTotal(res.data.cartTotal);\r\n      \r\n      \r\n    });\r\n    }\r\n\r\n    const loadAddress = async()=>{\r\n      await getAddress(user.token).then((res)=>{ \r\n        setGettedAddress(res.data.address)\r\n      })\r\n       .catch((err)=>{console.log(err)})\r\n    }\r\n\r\n  // const getUserAddress = async()=>{\r\n  //   console.log('here')\r\n     \r\n  // }\r\n\r\n  const emptyCart = () => {\r\n    // remove from local storage\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.removeItem(\"cart\");\r\n    }\r\n    // remove from redux\r\n    dispatch({\r\n      type: \"ADD_TO_CART\",\r\n      payload: [],\r\n    });\r\n    // remove from backend\r\n    emptyUserCart(user.token).then((res) => {\r\n      setProducts([]);\r\n      setTotal(0);\r\n      setTotalAfterDiscount(0);\r\n      setCoupon(\"\");\r\n      toast.success(\"Cart is emapty. Contniue shopping.\");\r\n    });\r\n  };\r\n\r\n\r\n\r\n  const saveAddressToDb = (e) => {\r\n    e.preventDefault();\r\n    if (address.housename==''||address.city==''||address.zip==''||address.district==''||address.state==''||\r\n    address.country=='') {\r\n      toast.error(\"Provide the required fields\");\r\n    } else {\r\n      \r\n      createAddress(address, user.token)\r\n        .then((res) => {\r\n          console.log(res);\r\n          setAddressSaved(true);\r\n          toast.success(\"Address saved\");\r\n          setAddress({\r\n            ...address,\r\n            housename: '',\r\n            street: '',\r\n            city: '',\r\n            zip: '',\r\n            district: '',\r\n            state: '',\r\n            country: '',\r\n          });\r\n          setAdd(false)\r\n          loadAddress();\r\n          history.push(\"/checkout\");\r\n         \r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          toast.error(err.response.data.err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const applyDiscountCoupon = () => {\r\n    console.log(\"send coupon to backend\", coupon);\r\n    applyCoupon(user.token, coupon).then((res) => {\r\n      console.log(\"RES ON COUPON APPLIED\", res.data);\r\n      if (res.data) {\r\n        setTotalAfterDiscount(res.data);\r\n        // update redux coupon applied true/false\r\n        dispatch({\r\n          type: \"COUPON_APPLIED\",\r\n          payload: true,\r\n        });\r\n      }\r\n      // error\r\n      if (res.data.err) {\r\n        setDiscountError(res.data.err);\r\n        // update redux coupon applied true/false\r\n        dispatch({\r\n          type: \"COUPON_APPLIED\",\r\n          payload: false,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = (evt) => {\r\n    const value = evt.target.value;\r\n    setAddress({\r\n      ...address,\r\n      [evt.target.name]: value,\r\n    });\r\n  };\r\n\r\n  const deleteAddressHandler = (addressId)=>{\r\n    deleteAddress(addressId, user.token).then((res)=>\r\n    {\r\n      loadAddress();\r\n      toast.error('address deleted')})\r\n  }\r\n\r\n  const close =()=>{\r\n    setAdd(false)\r\n  }\r\n\r\n const addHandler = ()=>{\r\n   setAdd(true)\r\n }\r\n\r\n const onValueChange = (evt)=>{\r\n  const value = evt.target.value;\r\n  setFormvalue(value);\r\n  setAddressSaved(true)\r\n }\r\n\r\n  const showAddress = () => (\r\n    <>\r\n    {add &&(<form action=\"\" onSubmit={saveAddressToDb}>\r\n      <div>\r\n        <button onClick={close} className='btn btn-primary' style={{float:'right', color:'black'}}>X</button>\r\n      </div>\r\n        <div class=\"form-group\">\r\n          <input\r\n            value={address.housename}\r\n            name=\"housename\"\r\n            onChange={handleChange}\r\n            maxlength=\"20\" oninput=\"this.value=this.value.replace(/[^A-Za-z-,.;'&/.() ]|^ /g,'')\"\r\n            type=\"houseName\"\r\n            class=\"form-control\"\r\n            id=\"autocomplete\"\r\n            placeholder=\"House Name\"\r\n            width=\"50px\"\r\n          />\r\n\r\n          <input\r\n            value={address.city}\r\n            maxlength=\"20\" oninput=\"this.value=this.value.replace(/[^A-Za-z-,.;'&/.() ]|^ /g,'')\"\r\n            name=\"city\"\r\n            onChange={handleChange}\r\n            type=\"city\"\r\n            class=\"form-control\"\r\n            id=\"inputCity\"\r\n            placeholder=\"City\"\r\n          />\r\n\r\n          <input\r\n            value={address.zip}\r\n            pattern=\"[0-9]*\"\r\n            maxLength=\"6\"\r\n            oninput=\"this.value=this.value.replace(/[^\\d]/,'')\"\r\n            name=\"zip\"\r\n            type=\"zip\"\r\n            class=\"form-control\"\r\n            onChange={handleChange}\r\n            id=\"inputZip\"\r\n            placeholder=\"Zip\"\r\n            style={{ marginLeft: \"10px\" }}\r\n          />\r\n          <input\r\n            value={address.state}\r\n            maxlength=\"20\" oninput=\"this.value=this.value.replace(/[^A-Za-z-,.;'&/.() ]|^ /g,'')\"\r\n            name=\"state\"\r\n            type=\"state\"\r\n            class=\"form-control\"\r\n            onChange={handleChange}\r\n            id=\"inputState\"\r\n            placeholder=\"State\"\r\n            style={{ marginLeft: \"10px\" }}\r\n          />\r\n\r\n          <input\r\n            value={address.district}\r\n            maxlength=\"20\" oninput=\"this.value=this.value.replace(/[^A-Za-z-,.;'&/.() ]|^ /g,'')\"\r\n            name=\"district\"\r\n            type=\"district\"\r\n            class=\"form-control\"\r\n            onChange={handleChange}\r\n            id=\"inputCounty\"\r\n            placeholder=\"District\"\r\n          />\r\n\r\n          <input\r\n            value={address.country}\r\n            maxlength=\"20\" oninput=\"this.value=this.value.replace(/[^A-Za-z-,.;'&/.() ]|^ /g,'')\"\r\n            name=\"country\"\r\n            type=\"country\"\r\n            class=\"form-control\"\r\n            onChange={handleChange}\r\n            id=\"inputCountry\"\r\n            placeholder=\"Country\"\r\n            style={{ marginLeft: \"10px\" }}\r\n          />\r\n        </div>\r\n        <div style={{float:'right'}}>\r\n          <br />\r\n          <br />\r\n         <button className=\"btn btn-primary mt-2 float-right\"style={{color:'rgb(87 67 67)'}} type=\"submit\">\r\n          Save\r\n        </button> \r\n        </div>\r\n        \r\n      </form>)}\r\n        <div>\r\n       { gettedAddress?.map((a)=>\r\n       <div>\r\n      <input type=\"radio\" value={a._id} name={a._id} onChange={onValueChange}/> \r\n       <p>{a.housename},{a.city},{a.zip},{a.district},\r\n       {a.state},{a.country} \r\n       <MdDelete onClick={()=>deleteAddressHandler(a._id)} style={{float:\"right\",color:'red',cursor:'pointer'}}/></p>\r\n       </div>\r\n       \r\n       ) }\r\n       {gettedAddress?.length<4 && (<div><button className='btn btn-outlined-primary' onClick={addHandler} style={{float:'right'}}>Add address</button></div>)}\r\n        \r\n      </div>\r\n      \r\n    </>\r\n  );\r\n\r\n  const showProductSummary = () =>\r\n    products.map((p, i) => (\r\n      <div key={i}>\r\n        <p>\r\n          {p.product.title} ({p.color}) x {p.count} ={\" \"}\r\n          {p.product.price * p.count}\r\n        </p>\r\n      </div>\r\n    ));\r\n\r\n  const showApplyCoupon = () => (\r\n    <>\r\n      <input\r\n        onChange={(e) => {\r\n          setCoupon(e.target.value);\r\n          setDiscountError(\"\");\r\n        }}\r\n        value={coupon}\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n      />\r\n      <div style={{float:'right'}}>\r\n        <button\r\n        onClick={applyDiscountCoupon}\r\n        className=\"btn btn-primary mt-2 float-right\"\r\n        style={{color:'rgb(87 67 67)'}}\r\n      >\r\n        Apply\r\n      </button> \r\n      </div>\r\n     \r\n    </>\r\n  );\r\n\r\n  const createCashOrder = () => {\r\n    createCashOrderForUser(user.token, COD, couponTrueOrFalse).then((res) => {\r\n      console.log(\"USER CASH ORDER CREATED RES \", res);\r\n      // empty cart form redux, local Storage, reset coupon, reset COD, redirect\r\n      if (res.data.ok) {\r\n        // empty local storage\r\n        if (typeof window !== \"undefined\") localStorage.removeItem(\"cart\");\r\n        // empty redux cart\r\n        dispatch({\r\n          type: \"ADD_TO_CART\",\r\n          payload: [],\r\n        });\r\n        // empty redux coupon\r\n        dispatch({\r\n          type: \"COUPON_APPLIED\",\r\n          payload: false,\r\n        });\r\n        // empty redux COD\r\n        dispatch({\r\n          type: \"COD\",\r\n          payload: false,\r\n        });\r\n        // mepty cart from backend\r\n        emptyUserCart(user.token);\r\n        // redirect\r\n        setTimeout(() => {\r\n          history.push(\"/user/history\");\r\n        }, 1000);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"row\"\r\n      // style={{ margin: \"20px\" }}\r\n      \r\n      style={{ marginTop: \"78px\", marginLeft: \"40px\", marginRight: \"40px\" }}\r\n    >\r\n      <div className=\"col-md-6\" >\r\n        <div className='card' style={{marginTop:'20px',padding:'20px',backgroundColor:'#d9cccc'}}>\r\n          <h4>Delivery Address</h4>\r\n        {/* <br />\r\n        <br /> */}\r\n        {showAddress()}\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div style={{ marginTop: \"50px\" }}>\r\n          <h4>ApplyCoupon</h4>\r\n        </div>\r\n        <br />\r\n        {showApplyCoupon()}\r\n        <br />\r\n        {discountError && <p className=\"bg-danger p-2\">{discountError}</p>}\r\n        </div>\r\n        \r\n      </div>\r\n\r\n      <div className=\"col-md-6\">\r\n        <div className='card' style={{marginTop:'20px',padding:'20px', backgroundColor:'#dfdbdb'}}>\r\n          <h4>Order Summary</h4>\r\n        <hr />\r\n        <p>Products {products.length}</p>\r\n        <hr />\r\n        {showProductSummary()}\r\n        <hr />\r\n        <p>Cart Total: {total}</p>\r\n\r\n        {totalAfterDiscount > 0 && (\r\n          <p className=\"bg-success p-2\">\r\n            Discount Applied: Total Payable: ${totalAfterDiscount}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            {COD ? (\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                hidden={!addressSaved || !products.length}\r\n                onClick={createCashOrder}\r\n                style={{color:'rgb(87 67 67)'}}\r\n              >\r\n                Place Order\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                style={{color:'rgb(87 67 67)'}}\r\n                disabled={!addressSaved || !products.length}\r\n                onClick={() => history.push({\r\n                  pathname: '/payment',\r\n                  // search: '?query=abc',\r\n                  state: { total: total }\r\n                  \r\n              })}\r\n              >\r\n                Place Order\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* <div className=\"col-md-6\">\r\n            <button\r\n              disabled={!products.length}\r\n              onClick={emptyCart}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              Empty Cart\r\n            </button>\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n        </div>\r\n        \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import axios from \"axios\";\r\n\r\nexport const getCoupons = async () =>\r\n  await axios.get(`${process.env.REACT_APP_API}/coupons`);\r\n\r\nexport const removeCoupon = async (couponId, authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/coupon/${couponId}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const createCoupon = async (coupon, authtoken) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/coupon`,\r\n    { coupon },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport {\r\n  getCoupons,\r\n  removeCoupon,\r\n  createCoupon,\r\n} from \"../../../functions/coupon\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\n\r\nconst CreateCouponPage = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [expiry, setExpiry] = useState(\"\");\r\n  const [discount, setDiscount] = useState(\"\");\r\n  const [loading, setLoading] = useState(\"\");\r\n  const [coupons, setCoupons] = useState([]);\r\n\r\n  // redux\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadAllCoupons();\r\n  }, []);\r\n\r\n  const loadAllCoupons = () => getCoupons().then((res) => setCoupons(res.data));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    // console.table(name, expiry, discount);\r\n    createCoupon({ name, expiry, discount }, user.token)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        loadAllCoupons(); // load all coupons\r\n        setName(\"\");\r\n        setDiscount(\"\");\r\n        setExpiry(\"\");\r\n        toast.success(`\"${res.data.name}\" is created`);\r\n      })\r\n      .catch((err) => console.log(\"create coupon err\", err));\r\n  };\r\n\r\n  const handleRemove = (couponId) => {\r\n    if (window.confirm(\"Delete?\")) {\r\n      setLoading(true);\r\n      removeCoupon(couponId, user.token)\r\n        .then((res) => {\r\n          loadAllCoupons(); // load all coupons\r\n          setLoading(false);\r\n          toast.error(`Coupon \"${res.data.name}\" deleted`);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading...</h4>\r\n          ) : (\r\n            <h4>Coupon</h4>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-muted\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n                autoFocus\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-muted\">Discount %</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                maxLength='2'\r\n                onChange={(e) => setDiscount(e.target.value)}\r\n                value={discount}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-muted\">Expiry</label>\r\n              <br />\r\n              <DatePicker\r\n                className=\"form-control\"\r\n                selected={new Date()}\r\n                value={expiry}\r\n                onChange={(date) => setExpiry(date)}\r\n                required\r\n              />\r\n            </div>\r\n            <div style={{textAlign:'center'}}>\r\n              <button className=\"btn btn-outline-primary\" style={{borderColor:'rgb(87, 67, 67)',color:'rgb(87, 67, 67)'}}>Save</button>\r\n\r\n            </div>\r\n          </form>\r\n\r\n          <br />\r\n\r\n          <h4>{coupons.length} Coupons</h4>\r\n\r\n          <table className=\"table table-bordered\">\r\n            <thead className=\"thead-light\">\r\n              <tr>\r\n                <th scope=\"col\">Name</th>\r\n                <th scope=\"col\">Expiry</th>\r\n                <th scope=\"col\">Discount</th>\r\n                <th scope=\"col\">Action</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {coupons.map((c) => (\r\n                <tr key={c._id}>\r\n                  <td>{c.name}</td>\r\n                  <td>{new Date(c.expiry).toLocaleDateString()}</td>\r\n                  <td>{c.discount}%</td>\r\n                  <td>\r\n                    <DeleteOutlined\r\n                      onClick={() => handleRemove(c._id)}\r\n                      className=\"text-danger pointer\"\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateCouponPage;\r\n","import axios from \"axios\";\r\n\r\nexport const getOffers = async () =>\r\n  await axios.get(`${process.env.REACT_APP_API}/offers`);\r\n\r\nexport const removeOffer = async (offerId, authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/offer/${offerId}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const createOffer = async (offer, authtoken) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/offer`,\r\n    { offer },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport {\r\n  getOffers,\r\n  removeOffer,\r\n  createOffer,\r\n} from \"../../../functions/offer\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { getCategories } from \"../../../functions/category\";\r\nimport { useHistory } from \"react-router\";\r\n\r\n\r\nconst CreateOfferPage = () => {\r\n  \r\n  const [name, setName] = useState(\"\");\r\n  const [expiry, setExpiry] = useState(\"\");\r\n  const [discount, setDiscount] = useState(\"\");\r\n  const [loading, setLoading] = useState(\"\");\r\n  const [offers, setOffers] = useState([]);\r\n  const [categories, setCategories] = useState('');\r\n  const [category, setCategory] = useState(\"\");\r\n\r\n  console.log(expiry)\r\n  console.log(categories)\r\n  \r\n\r\n  const history = useHistory();\r\n\r\n  // redux\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadAllOffers();\r\n    loadCategories();\r\n\r\n  }, []);\r\n\r\n  const loadAllOffers = () => getOffers().then((res) => setOffers(res.data));\r\n\r\n  const loadCategories = () =>\r\n    getCategories().then((c) => setCategories(c.data ));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    // console.table(name, expiry, discount);\r\n    createOffer({ name, expiry, discount, category:category }, user.token)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        loadAllOffers(); // load all offers\r\n        setName(\"\");\r\n        setDiscount(\"\");\r\n        setExpiry(\"\");\r\n        toast.success(`Offer created`);\r\n      })\r\n      .catch((err) => {toast.error('Offer already exist for the category')\r\n      setLoading(false)\r\n    })\r\n  };\r\n\r\n  const handleRemove = (offerId) => {\r\n    if (window.confirm(\"Delete?\")) {\r\n      setLoading(true);\r\n      removeOffer(offerId, user.token)\r\n        .then((res) => {\r\n          loadAllOffers(); // load all offers\r\n          setLoading(false);\r\n          toast.error(`Offer deleted`);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  // const handleCatagoryChange = (e) => {\r\n  //   e.preventDefault();\r\n  //   setCategories({ categories, [e.target.name]: e.target.value });\r\n  // };\r\n\r\n  return (\r\n    <div className=\"\" style={{marginTop:'78px'}}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading...</h4>\r\n          ) : (\r\n            <h4>Offer</h4>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-muted\">Offer Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n                autoFocus\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n        <label>Category</label>\r\n        <select\r\n          name=\"category\"\r\n          className=\"form-control\"\r\n          onChange={(e) => setCategory(e.target.value)}\r\n        >\r\n          <option>----Please select----</option>\r\n          {categories.length > 0 &&\r\n            categories.map((c) => (\r\n              \r\n              <option key={c._id} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-muted\">Discount %</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                maxLength='2'\r\n                onChange={(e) => setDiscount(e.target.value)}\r\n                value={discount}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-muted\">Expiry</label>\r\n              <br />\r\n              <DatePicker\r\n                className=\"form-control\"\r\n                selected={new Date()}\r\n                value={expiry}\r\n                onChange={(date) => setExpiry(date)}\r\n                required\r\n              />\r\n            </div>\r\n              <div style={{textAlign:'center'}}>\r\n                  <button className=\"btn btn-outline-primary\" style={{borderColor:'rgb(87, 67, 67)',color:'rgb(87, 67, 67)'}}>Save</button>\r\n\r\n              </div>\r\n          </form>\r\n\r\n          <br />\r\n              \r\n          <h4>{offers.length} Offers</h4>\r\n\r\n          <table className=\"table table-bordered\">\r\n            <thead className=\"thead-light\">\r\n              <tr>\r\n                <th scope=\"col\">Name</th>\r\n                <th scope=\"col\">Expiry</th>\r\n                <th scope=\"col\">Discount</th>\r\n                <th scope=\"col\">Action</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {offers.map((c) => (\r\n                <tr key={c._id}>\r\n                  <td>{c.name}</td>\r\n                  <td>{new Date(c.expiry).toLocaleDateString()}</td>\r\n                  <td>{c.discount}%</td>\r\n                  <td>\r\n                    <DeleteOutlined\r\n                      onClick={() => handleRemove(c._id)}\r\n                      className=\"text-danger pointer\"\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateOfferPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { createPaymentIntent } from \"../functions/stripe\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card } from \"antd\";\r\nimport { DollarOutlined, CheckOutlined, SwapOutlined } from \"@ant-design/icons\";\r\nimport Laptop from \"../images/laptop.png\";\r\nimport { createOrder, emptyUserCart } from \"../functions/user\";\r\nimport Axios from \"axios\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst StripeCheckout = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const { user, coupon } = useSelector((state) => ({ ...state }));\r\n\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [processing, setProcessing] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n\r\n  const [cartTotal, setCartTotal] = useState(0);\r\n  const [totalAfterDiscount, setTotalAfterDiscount] = useState(0);\r\n  const [payable, setPayable] = useState(0);\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  // const successPaymentHandler = (paymentResult) => {\r\n  //   // dispatch(payOrder(order, paymentResult));\r\n  // };\r\n\r\n  useEffect(() => {\r\n    createPaymentIntent(user.token, coupon).then((res) => {\r\n      console.log(\"create payment intent\", res.data);\r\n      // setClientSecret(res.data.clientSecret);\r\n      // additional response received on successful payment\r\n      setCartTotal(res.data.cartTotal);\r\n      setTotalAfterDiscount(res.data.totalAfterDiscount);\r\n      setPayable(res.data.payable);\r\n\r\n      const { data } = Axios.get(\"/api/config/paypal\");\r\n      const script = document.createElement(\"script\");\r\n      script.type = \"text/javascript\";\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n      script.async = true;\r\n      script.onload = () => {\r\n        setSdkReady(true);\r\n      };\r\n      document.body.appendChild(script);\r\n    });\r\n\r\n    // addPayPalScript();\r\n  }, []);\r\n\r\n  // const addPayPalScript = async () => {\r\n  //   const { data } = await Axios.get(\"/api/config/paypal\");\r\n  //   const script = document.createElement(\"script\");\r\n  //   script.type = \"text/javascript\";\r\n  //   script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n  //   script.async = true;\r\n  //   script.onload = () => {\r\n  //     setSdkReady(true);\r\n  //   };\r\n  // };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setProcessing(true);\r\n\r\n    const payload = await stripe.confirmCardPayment(clientSecret, {\r\n      payment_method: {\r\n        card: elements.getElement(CardElement),\r\n        billing_details: {\r\n          name: e.target.name.value,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (payload.error) {\r\n      setError(`Payment failed ${payload.error.message}`);\r\n      setProcessing(false);\r\n    } else {\r\n      // here you get result after successful payment\r\n      // create order and save in database for admin to process\r\n      createOrder(payload, user.token).then((res) => {\r\n        if (res.data.ok) {\r\n          // empty cart from local storage\r\n          if (typeof window !== \"undefined\") localStorage.removeItem(\"cart\");\r\n          // empty cart from redux\r\n          dispatch({\r\n            type: \"ADD_TO_CART\",\r\n            payload: [],\r\n          });\r\n          // reset coupon to false\r\n          dispatch({\r\n            type: \"COUPON_APPLIED\",\r\n            payload: false,\r\n          });\r\n          // empty cart from database\r\n          emptyUserCart(user.token);\r\n        }\r\n      });\r\n      // empty user cart from redux store and local storage\r\n      console.log(JSON.stringify(payload, null, 4));\r\n      setError(null);\r\n      setProcessing(false);\r\n      setSucceeded(true);\r\n      // history.push('/')\r\n    }\r\n  };\r\n\r\n  const handleChange = async (e) => {\r\n    // listen for changes in the card element\r\n    // and display any errors as the custoemr types their card details\r\n    setDisabled(e.empty); // disable pay button if errors\r\n    setError(e.error ? e.error.message : \"\"); // show error message\r\n  };\r\n\r\n  const cartStyle = {\r\n    style: {\r\n      base: {\r\n        color: \"#32325d\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        fontSmoothing: \"antialiased\",\r\n        fontSize: \"16px\",\r\n        \"::placeholder\": {\r\n          color: \"#32325d\",\r\n        },\r\n      },\r\n      invalid: {\r\n        color: \"#fa755a\",\r\n        iconColor: \"#fa755a\",\r\n      },\r\n    },\r\n  };\r\n\r\n  const successPaymentHandler = (paymentResult) => {\r\n    console.log(paymentResult);\r\n    const payload = paymentResult;\r\n    console.log(payload);\r\n    createOrder(payload, user.token).then((res) => {\r\n      if (res.data.ok) {\r\n        // empty cart from local storage\r\n        if (typeof window !== \"undefined\") localStorage.removeItem(\"cart\");\r\n        // empty cart from redux\r\n        dispatch({\r\n          type: \"ADD_TO_CART\",\r\n          payload: [],\r\n        });\r\n        // reset coupon to false\r\n        dispatch({\r\n          type: \"COUPON_APPLIED\",\r\n          payload: false,\r\n        });\r\n        // empty cart from database\r\n        emptyUserCart(user.token);\r\n      }\r\n    });\r\n    // empty user cart from redux store and local storage\r\n    console.log(JSON.stringify(payload, null, 4));\r\n    setError(null);\r\n    setProcessing(false);\r\n    setSucceeded(true);\r\n    toast.success('Order placed successfuly')\r\n  };\r\n\r\n  const redirect = ()=>{\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!succeeded ? (\r\n        <div>\r\n          {coupon && totalAfterDiscount !== undefined ? (\r\n            <p className=\"alert alert-success\">{`Total after discount: $${totalAfterDiscount}`}</p>\r\n          ) : (\r\n            <p className=\"alert alert-danger\">No coupon applied</p>\r\n          )}\r\n          <div>\r\n             {coupon && totalAfterDiscount !== undefined ? (\r\n        <div id=\"payment-form\" className=\"stripe-form\">\r\n          <PayPalButton\r\n            amount={totalAfterDiscount}\r\n            onSuccess={successPaymentHandler}\r\n          ></PayPalButton>\r\n        </div>\r\n      ) : (\r\n        <PayPalButton\r\n          amount={cartTotal}\r\n          onSuccess={successPaymentHandler}\r\n        ></PayPalButton>\r\n      )}\r\n          </div>\r\n        </div>\r\n      ):(\r\n        // redirect()\r\n      <div><h1> <span style={{color:'green',fontSize:'50px'}}>Congrations...!</span> <br /> Your Order placed successfuly</h1></div>\r\n      )}\r\n      {/* <div className=\"text-center pb-5\">\r\n        <Card\r\n          cover={\r\n            <img\r\n              src={Laptop}\r\n              style={{\r\n                height: \"200px\",\r\n                objectFit: \"cover\",\r\n                marginBottom: \"-50px\",\r\n              }}\r\n            />\r\n          }\r\n          actions={[\r\n            <>\r\n              <DollarOutlined className=\"text-info\" /> <br /> Total: $\r\n              {cartTotal}\r\n            </>,\r\n            <>\r\n              <CheckOutlined className=\"text-info\" /> <br /> Total payable : $\r\n              {(payable / 100).toFixed(2)}\r\n            </>,\r\n          ]}\r\n        />\r\n      </div> */}\r\n      \r\n     \r\n    </>\r\n  );\r\n};\r\n\r\nexport default StripeCheckout;\r\n","import axios from \"axios\";\r\n\r\nexport const createPaymentIntent = (authtoken, coupon) =>\r\n  axios.post(\r\n    `${process.env.REACT_APP_API}/create-payment-intent`,\r\n    { couponApplied: coupon },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport StripeCheckout from \"../components/StripeCheckout\";\r\nimport \"../stripe.css\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n\r\n// load stripe outside of components render to avoid recreating stripe object on every render\r\nconst promise = loadStripe(process.env.REACT_APP_STRIPE_KEY);\r\n\r\nconst Payment = (props) => {\r\nconst location = useLocation();\r\nconst total = location.state; // it is equal to yourData\r\nconsole.log(total)\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  // useEffect(async () => {\r\n  //   const { data } = await Axios.get(\"/api/config/paypal\");\r\n  //   const script = document.createElement(\"script\");\r\n  //   script.type = \"text/javascript\";\r\n  //   script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n  //   script.async = true;\r\n  //   script.onload = () => {\r\n  //     setSdkReady(true);\r\n  //   };\r\n  //   document.body.appendChild(script);\r\n  // }, []);\r\n  const totalPrice = 1000\r\n\r\n  const successPaymentHandler = ()=>{\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"container p-5 text-center\" style={{ marginTop: \"78px\" }}>\r\n      {/* <h4>Complete your purchase</h4> */}\r\n      <Elements stripe={promise}>\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          <StripeCheckout />\r\n          \r\n        </div>\r\n      </Elements>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","import React, { useState } from \"react\";\r\nimport { Menu, Badge } from \"antd\";\r\nimport {\r\n  AppstoreOutlined,\r\n  SettingOutlined,\r\n  UserOutlined,\r\n  UserAddOutlined,\r\n  LogoutOutlined,\r\n  ShoppingOutlined,\r\n  ShoppingCartOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport firebase from \"firebase\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Search from \"../forms/Search\";\r\nimport { Navbar, Nav, Container, NavDropdown } from \"react-bootstrap\";\r\n// import NavbarToggle from \"react-bootstrap/esm/NavbarToggle\";\r\n// import NavbarCollapse from \"react-bootstrap/esm/NavbarCollapse\";\r\nimport { AiOutlineUser } from \"react-icons/ai\";\r\nimport { HiOutlineShoppingBag } from \"react-icons/hi\";\r\nimport { BsShopWindow } from \"react-icons/bs\";\r\nimport { FiHeart } from \"react-icons/fi\";\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\nconst AdminHeader = () => {\r\n  const [current, setCurrent] = useState(\"home\");\r\n\r\n  let dispatch = useDispatch();\r\n  let { user, cart } = useSelector((state) => ({ ...state }));\r\n\r\n  let history = useHistory();\r\n\r\n  const handleClick = (e) => {\r\n    // console.log(e.key);\r\n    setCurrent(e.key);\r\n  };\r\n\r\n  const logout = () => {\r\n    firebase.auth().signOut();\r\n    dispatch({\r\n      type: \"LOGOUT\",\r\n      payload: null,\r\n    });\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div style={{backgroundColor: '#ebebeb!important'}}>\r\n      <>\r\n        <Navbar\r\n          collapseOnSelect\r\n          fixed=\"top\"\r\n          expand=\"sm\"\r\n          bg=\"light\"\r\n          varient=\"light\"\r\n        >\r\n          <Container>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n              <Nav style={{ width: \"100%\" }} onClick={handleClick}>\r\n                <Nav.Link>\r\n                  <h4>Brand 24</h4>\r\n                </Nav.Link>\r\n\r\n                <Nav></Nav>\r\n\r\n                {/* <Nav.Link key=\"shop\">\r\n                  <Link to=\"/shop\">\r\n                    <BsShopWindow style={{ fontSize: \"25px\",marginLeft:'20px',color:'rgb(87, 67, 67)' }} />\r\n                  </Link>\r\n                </Nav.Link> */}\r\n              </Nav>\r\n              <Nav className=\"justify-content-end\">\r\n                {user && user.role === \"subscriber\" && (\r\n                  <span\r\n                    className=\"float-right p-1\"\r\n                    style={{ marginRight: \"50px\" }}\r\n                  >\r\n                    <Search />\r\n                  </span>\r\n                )}\r\n\r\n                {user && (\r\n                  <NavDropdown\r\n                    title={user.email && user.email.split(\"@\")[0]}\r\n                    className=\"float-right\"\r\n                    variant=\"outline\"\r\n                    drop={\"down\"}\r\n                  >\r\n                    {user && user.role === \"subscriber\" && (\r\n                      <Nav.Link>\r\n                        <Link to=\"/user/history\" style={{color:'rgb(87, 67, 67)'}}>Profile</Link>\r\n                      </Nav.Link>\r\n                    )}\r\n\r\n                    {user && user.role === \"admin\" && (\r\n                      <Nav.Link>\r\n                        <Link to=\"/admin/dashboard\" style={{color:'rgb(87, 67, 67)'}}>Dashboard</Link>\r\n                      </Nav.Link>\r\n                    )}\r\n\r\n                    <Nav.Link onClick={logout} style={{color:'rgb(87, 67, 67)'}}>\r\n                      Logout\r\n                    </Nav.Link>\r\n                  </NavDropdown>\r\n                )}\r\n\r\n                {user && user.role === \"subscriber\" && (\r\n                  <Nav.Link>\r\n                    <Link to=\"/cart\">\r\n                      <Badge count={cart.length} offset={[9, 0]}>\r\n                        <FiHeart style={{ fontSize: \"25px\",color:'rgb(87, 67, 67)' }} />\r\n                      </Badge>\r\n                    </Link>\r\n                  </Nav.Link>\r\n                )}\r\n\r\n                {user && user.role === \"subscriber\" && (\r\n                  <Nav.Link>\r\n                    <Link to=\"/cart\">\r\n                      <Badge count={cart.length} offset={[9, 0]}>\r\n                        <HiOutlineShoppingBag style={{ fontSize: \"25px\",color:'rgb(87, 67, 67)' }} />\r\n                      </Badge>\r\n                    </Link>\r\n                  </Nav.Link>\r\n                )}\r\n\r\n                {!user && (\r\n                  <Nav.Link\r\n                    key=\"register\"\r\n                    icon={<UserAddOutlined />}\r\n                    className=\"float-right\"\r\n                  >\r\n                    <Link to=\"/register\"style={{color:'rgb(87, 67, 67)'}}>Register</Link>\r\n                  </Nav.Link>\r\n                )}\r\n\r\n                {!user && (\r\n                  <Nav.Link\r\n                    key=\"login\"\r\n                    icon={<UserOutlined />}\r\n                    className=\"float-right\"\r\n                  >\r\n                    <Link to=\"/login\"style={{color:'rgb(87, 67, 67)'}}>Login</Link>\r\n                  </Nav.Link>\r\n                )}\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </Container>\r\n        </Navbar>\r\n      </>\r\n      {/* <div style={{padding:'10px',fontFamily:'revert', backgroundColor:'rgb(116 129 138)'}}>\r\n         \r\n\r\n    </div> */}\r\n      {/* <Menu\r\n        onClick={handleClick}\r\n        style={{ backgroundColor: \"rgb(116 129 138)\", padding: \"10px\" }}\r\n        mode=\"horizontal\"\r\n      >\r\n        <Item>\r\n          <Link style={{ fontFamily: \"sans-serif\" }} to=\"/\">\r\n            <h4>Brand 24</h4>{\" \"}\r\n          </Link>\r\n        </Item>\r\n        {/* <Item key=\"home\" icon={<AppstoreOutlined />}> */}\r\n\r\n        {/* </Item> */}\r\n\r\n        {/* <Item key=\"shop\">\r\n          <Link style={{ fontSize: \"15px\" }} to=\"/shop\">\r\n            <ShoppingOutlined />\r\n          </Link>\r\n        </Item> */}\r\n\r\n        {/* <Item key=\"cart\" icon={<ShoppingCartOutlined />}>\r\n        <Link to=\"/cart\">\r\n          <Badge count={cart.length} offset={[9, 0]}>\r\n            Cart\r\n          </Badge>\r\n        </Link>\r\n      </Item> */}\r\n\r\n        {/* {user && user.role === \"subscriber\" && (\r\n          <Item key=\"cart\" className=\"float-right\">\r\n            <Link style={{ margin: \"5px\" }} to=\"/cart\">\r\n              <Badge count={cart.length} offset={[9, 0]}>\r\n                <ShoppingCartOutlined style={{ fontSize: \"30px\" }} />\r\n              </Badge>\r\n            </Link>\r\n          </Item>\r\n        )} */}\r\n\r\n        {/* {!user && (\r\n          <Item\r\n            key=\"register\"\r\n            icon={<UserAddOutlined />}\r\n            className=\"float-right\"\r\n          >\r\n            <Link to=\"/register\">Register</Link>\r\n          </Item>\r\n        )} */}\r\n\r\n        {/* {!user && (\r\n          <Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\r\n            <Link to=\"/login\">Login</Link>\r\n          </Item>\r\n        )} */}\r\n\r\n        {/* {user && (\r\n          <SubMenu\r\n            icon={<SettingOutlined />}\r\n            title={user.email && user.email.split(\"@\")[0]}\r\n            className=\"float-right\"\r\n          >\r\n            {user && user.role === \"subscriber\" && (\r\n              <Item>\r\n                <Link to=\"/user/history\">Profile</Link>\r\n              </Item>\r\n            )} */}\r\n\r\n            {/* {user && user.role === \"admin\" && (\r\n              <Item>\r\n                <Link to=\"/admin/dashboard\">Dashboard</Link>\r\n              </Item>\r\n            )} */}\r\n{/* \r\n            <Item icon={<LogoutOutlined />} onClick={logout}>\r\n              Logout\r\n            </Item>\r\n          </SubMenu>\r\n        )} */}\r\n\r\n        {/* {user && user.role === \"subscriber\" && (\r\n          <span className=\"float-right p-1\">\r\n            <Search />\r\n          </span>\r\n        )}\r\n      </Menu> */} \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminHeader;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../components/nav/AdminNav\";\r\nimport { getOrders, changeStatus } from \"../../functions/admin\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport Orders from \"../../components/order/Orders\";\r\n// import { PDFDownloadLink } from \"@react-pdf/renderer\";\r\n// import Report from \"../../components/order/Report\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport axios from 'axios';\r\nimport Moment from 'moment';\r\n\r\nconst SalesReport = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [startDate, setStartDate] = useState();\r\n  const [endDate, setEndDate] = useState();\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [filterdata, setFilterData] = useState()\r\n  console.log(orders);\r\n  // let date = startDate.toISOString() \r\n  console.log(startDate)\r\n  console.log(endDate);\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n  }, []);\r\n\r\n  const loadOrders = () =>\r\n    getOrders(user.token).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4));\r\n      setOrders(res.data);\r\n    });\r\n\r\n  const exportPDF = () => {\r\n    const unit = \"pt\";\r\n    const size = \"A4\"; // Use A1, A2, A3 or A4\r\n    const orientation = \"portrait\"; // portrait or landscape\r\n\r\n    const marginLeft = 40;\r\n    const doc = new jsPDF(orientation, unit, size);\r\n\r\n    doc.setFontSize(15);\r\n\r\n    const title = \"Sales Report\";\r\n    const headers = [\r\n      [\"Order Id\", \"User Id\", \"Product\", \"Order Status\", \"Date\"],\r\n    ];\r\n\r\n    const data = orders.map((elt) => [\r\n      elt._id,\r\n      elt.orderdBy,\r\n      elt.products.map((pro) => [pro._id]),\r\n      elt.orderStatus,\r\n      elt.createdAt,\r\n    ]);\r\n\r\n    let content = {\r\n      startY: 50,\r\n      head: headers,\r\n      body: data,\r\n      //   theme: 'grid',\r\n      styles: {\r\n        overflow: \"linebreak\",\r\n        // fontSize: 12,\r\n        valign: \"middle\",\r\n      },\r\n      columnStyles: {\r\n        0: {\r\n          columnWidth: 100,\r\n          fontStyle: \"bold\",\r\n          halign: \"center\",\r\n        },\r\n        1: {\r\n          columnWidth: 100,\r\n          fontStyle: \"bold\",\r\n          halign: \"center\",\r\n        },\r\n        2: {\r\n          columnWidth: 100,\r\n          fontStyle: \"bold\",\r\n          halign: \"center\",\r\n        },\r\n        3: {\r\n          columnWidth: 100,\r\n          fontStyle: \"bold\",\r\n          halign: \"center\",\r\n        },\r\n        4: {\r\n          columnWidth: 100,\r\n          fontStyle: \"bold\",\r\n          halign: \"center\",\r\n        },\r\n      },\r\n    };\r\n\r\n    doc.text(title, marginLeft, 40);\r\n    doc.autoTable(content);\r\n    doc.save(\"report.pdf\");\r\n  };\r\n\r\n  const onFilter = (startDate,endDate)=>{\r\n    \r\n    console.log(startDate)\r\n    axios.get(\"http://localhost:8000/api/admin/datefilter\",{ startDate, endDate }).then((res)=>{\r\n      console.log(res)\r\n      setFilterData(res)\r\n    })\r\n  }\r\n\r\n//   getSorrtedReport:(type)=>{\r\n//     console.log(\"+++++++++++++++++++++++\");\r\n//     console.log(type);\r\n//    const numberOfDays = type ===  'daily'? 1 : type === 'weekly' ? 7 : type === 'monthly' ? 30 : type === 'yearly' ? 365 : 0\r\n//    const dayOfYear = (date) =>\r\n//        Math.floor(\r\n//            (date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24\r\n//        )\r\n//    return new Promise(async (resolve, reject) => {\r\n//        const data = await db.get().collection(collection.ORDER_COLLECTIONS).aggregate([\r\n//            {\r\n//                $match: {\r\n//                    //$and: [{ status: { $eq: 'placed' } }],\r\n//                    createdAt: { $gte: new Date(new Date() - numberOfDays * 60 * 60 * 24 * 1000) },\r\n//                },\r\n//            },\r\n\r\n\r\n//        ]).toArray()\r\n//        console.log(data);\r\n//        resolve(data)\r\n\r\n//    })\r\n// },\r\n\r\n  return (\r\n    <div style={{ marginTop: \"75px\" }}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\">\r\n          <h2>Sales Report</h2>\r\n          {/* <p>The .table-hover className enables a hover state on table rows:</p> */}\r\n          <div style={{ textAlign: \"right\", marginRight: \"20px\" }}>\r\n            <button className=\"btn btn-primary\" onClick={() => exportPDF()} style={{color:'rgb(87 67 67)'}}>\r\n              Download\r\n            </button>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-1\">\r\n              <button className='btn btn-outline-primary' style={{borderColor:'rgb(87 67 67)',color:\"rgb(87 67 67)\"}}>Monthly</button>\r\n            </div>\r\n            <div className=\"col-md-1\">\r\n              <button className='btn btn-outline-primary' style={{marginLeft:\"7px\",borderColor:'rgb(87 67 67)',color:\"rgb(87 67 67)\"}}>Weekly</button>\r\n            </div>\r\n            <div className=\"col-md-1\">\r\n              <button className='btn btn-outline-primary' style={{borderColor:'rgb(87 67 67)',color:\"rgb(87 67 67)\"}}>Daily</button>\r\n            </div>\r\n            {/* <div className=\"col-md-2\">\r\n              <label htmlFor=\"startdate\">From</label>\r\n              <DatePicker\r\n                className=\"form-control\"\r\n                id=\"startdate\"\r\n                selected={startDate}\r\n                onChange={(date) => setStartDate(date)}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-2\">\r\n              <label htmlFor=\"startdate\">To</label>\r\n              <DatePicker\r\n                className=\"form-control\"\r\n                id=\"enddate\"\r\n                selected={endDate}\r\n                onChange={(date) => setEndDate(date)}\r\n              />\r\n            </div> */}\r\n            {/* <div className=\"col-md-2\">\r\n              <button className=\"btn btn-primary\" onClick={onFilter} style={{color:'rgb(87 67 67)'}}>Filter</button>\r\n            </div> */}\r\n          </div>\r\n\r\n          <table className=\"table table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>Order Id</th>\r\n                <th>User Id</th>\r\n                <th>Product</th>\r\n                <th>Status</th>\r\n                <th>Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map((o, k) => (\r\n                <tr key={k}>\r\n                  <td>{o._id}</td>\r\n                  <td>{o.orderdBy}</td>\r\n                  {o.products.map((p, key) => (\r\n                    <tr>\r\n                      <td>{p._id}</td>\r\n                    </tr>\r\n                  ))}\r\n                  {o.orderStatus != 'Cancelled'?(<td>{o.orderStatus}</td>):(<td><span style={{color:'red'}}>{o.orderStatus}</span></td>)}\r\n                  <td>{o.createdAt}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalesReport;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../components/nav/AdminNav\";\r\nimport { getOrders, changeStatus } from \"../../functions/admin\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport Orders from \"../../components/order/Orders\";\r\n// import { PDFDownloadLink } from \"@react-pdf/renderer\";\r\n// import Report from \"../../components/order/Report\";\r\n// import { Doughnut } from \"react-chartjs-2\";\r\nimport axios from \"axios\";\r\nimport { FiUsers } from \"react-icons/fi\";\r\nimport { GiAmpleDress } from \"react-icons/gi\";\r\nimport { ImDropbox } from \"react-icons/im\";\r\n// import { Doughnut } from 'react-chartjs-2';\r\nimport { Line } from \"react-chartjs-2\";\r\nimport {Doughnut} from 'react-chartjs-2';\r\n\r\n\r\nconst AdminChartPage = () => {\r\n  const [ordercount, setOrdercount] = useState();\r\n  const [usercount, setUsercount] = useState();\r\n  const [productcount, setProductcount] = useState();\r\n  const [categories, setCategories] = useState();\r\n  const [products, setProducts] = useState();\r\n\r\n  console.log(categories)\r\n  \r\n\r\n\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    orderCount();\r\n    userCount();\r\n    productCount();\r\n    getCategories();\r\n    getProducts();\r\n  }, []);\r\n\r\n  const orderCount = () => {\r\n    axios.get(\"http://localhost:8000/api/admin/ordercount\").then((res) => {\r\n      console.log(res.data);\r\n      setOrdercount(res.data);\r\n    });\r\n  };\r\n  const userCount = () => {\r\n    axios.get(\"http://localhost:8000/api/admin/usercount\").then((res) => {\r\n      console.log(res.data);\r\n      setUsercount(res.data);\r\n    });\r\n  };\r\n\r\n  const productCount = () => {\r\n    axios.get(\"http://localhost:8000/api/admin/productcount\").then((res) => {\r\n      console.log(res.data);\r\n      setProductcount(res.data);\r\n    });\r\n  };\r\n\r\n  const getCategories = () =>{\r\n      axios.get(\"http://localhost:8000/api/categories\").then((res)=>{\r\n          let value = res.data\r\n        \r\n          setCategories(res.data)\r\n      })\r\n  }\r\n\r\n  const getProducts = () =>{\r\n    axios.get(\"http://localhost:8000/api/products/listall\").then((res)=>{\r\n        let value = res.data\r\n      \r\n        setProducts(res.data)\r\n    })\r\n}\r\n\r\n  \r\n  let productname = products?.map((i)=>i.title);\r\n  let productSoled = products?.map((i)=>i.sold)\r\n  const data = {\r\n    labels: productname,\r\n    \r\n\r\n    datasets: [\r\n      {\r\n        label: \"Sales per Product\",\r\n        fill: false,\r\n        lineTension: 0.1,\r\n        backgroundColor: \"rgba(75,192,192,0.4)\",\r\n        borderColor: \"rgba(75,192,192,1)\",\r\n        borderCapStyle: \"butt\",\r\n        borderDash: [],\r\n        borderDashOffset: 0.0,\r\n        borderJoinStyle: \"miter\",\r\n        pointBorderColor: \"rgba(75,192,192,1)\",\r\n        pointBackgroundColor: \"#fff\",\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\r\n        pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n        pointHoverBorderWidth: 2,\r\n        pointRadius: 1,\r\n        innerWidth:10,\r\n        pointHitRadius: 10,\r\n        data: productSoled,\r\n      },\r\n    ],\r\n  };\r\n  \r\n  // this is for taking the categories form array of object\r\n  const labels= categories?.map((i)=>i.name)\r\n\r\n  // const categoryCount = categories.length\r\n  \r\n  const dataround = {\r\n    labels: labels,\r\n    datasets: [{\r\n      data: [3,2,2],\r\n      backgroundColor: [\r\n      '#FF6384',\r\n      '#36A2EB',\r\n      '#FFCE56'\r\n      ],\r\n      hoverBackgroundColor: [\r\n      '#FF6384',\r\n      '#36A2EB',\r\n      '#FFCE56'\r\n      ]\r\n    }]\r\n  };\r\n  //   const loadOrders = () =>\r\n  //     getOrders(user.token).then((res) => {\r\n  //       console.log(JSON.stringify(res.data, null, 4));\r\n  //       setOrders(res.data);\r\n  //     });\r\n\r\n  //   const handleStatusChange = (orderId, orderStatus) => {\r\n  //     changeStatus(orderId, orderStatus, user.token).then((res) => {\r\n  //       toast.success(\"Status updated\");\r\n  //       loadOrders();\r\n  //     });\r\n  //   };\r\n\r\n  return (\r\n    <div className=\"\" style={{ color: \"white\", marginTop: \"78px\" }}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\" style={{}}>\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\" style={{ justifyContent: \"space-between\" }}>\r\n          <div class=\"row\" style={{ paddingTop: \"20px\" }}>\r\n            <div class=\"col-md-4\" style={{ textAlign: \"center\" }}>\r\n              <div\r\n                class=\"card\"\r\n                style={{\r\n                  paddingTop: \"20px\",\r\n                  paddingBottom: \"20px\",\r\n                  backgroundColor: \"#d9cccc\",\r\n                }}\r\n              >\r\n                <p>\r\n                  <FiUsers style={{ color: \"black\", fontSize: \"30px\" }} />\r\n                </p>\r\n                <h2 style={{ color: \"black\" }}>{usercount}</h2>\r\n                <p style={{ color: \"black\", fontSize: \"20px\" }}>Users</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\" style={{ textAlign: \"center\" }}>\r\n              <div\r\n                class=\"card\"\r\n                style={{\r\n                  paddingTop: \"20px\",\r\n                  paddingBottom: \"20px\",\r\n                  backgroundColor: \"#d9cccc\",\r\n                }}\r\n              >\r\n                <p>\r\n                  <ImDropbox style={{ color: \"black\", fontSize: \"30px\" }} />\r\n                </p>\r\n                <h2 style={{ color: \"black\" }}>{ordercount}</h2>\r\n                <p style={{ color: \"black\", fontSize: \"20px\" }}>Orders</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\" style={{ textAlign: \"center\" }}>\r\n              <div\r\n                class=\"card\"\r\n                style={{\r\n                  paddingTop: \"20px\",\r\n                  paddingBottom: \"20px\",\r\n                  backgroundColor: \"#d9cccc\",\r\n                }}\r\n              >\r\n                <p>\r\n                  <GiAmpleDress style={{ color: \"black\", fontSize: \"30px\" }} />\r\n                </p>\r\n                <h2 style={{ color: \"black\" }}>{productcount}</h2>\r\n                <p style={{ color: \"black\", fontSize: \"20px\" }}>Products</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h2>Line Chart</h2>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\" style={{height:'600px'}}>\r\n                <Line data={data} />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n              <Doughnut data={dataround} style={{width:'10px'}} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminChartPage;\r\n","// import axios from 'axios';\r\nimport axios from 'axios'\r\n\r\nexport const getUser = async(authtoken)=>\r\n    await axios.get(`${process.env.REACT_APP_API}/user/profile/getuser`, {\r\n        headers: {\r\n          authtoken,\r\n        },\r\n      })\r\n\r\nexport const updateName = async(authtoken, name)=>\r\nawait axios.put(`${process.env.REACT_APP_API}/user/profile/updatename`,{name},{\r\n    headers:{\r\n        authtoken\r\n    }\r\n})\r\n\r\nexport const updateMob = async(authtoken, mobile)=>\r\nawait axios.put(`${process.env.REACT_APP_API}/user/profile/updatemobile`,{mobile},{\r\n    headers:{\r\n        authtoken\r\n    }\r\n})\r\n\r\nexport const updateImage = async(authtoken, url)=>{\r\nconsole.log('************',url)\r\n    await axios.put(`${process.env.REACT_APP_API}/user/profile/image`,{url},{\r\n        headers:{\r\n            authtoken\r\n        }\r\n    })}\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport Resizer from 'react-image-file-resizer'\r\nimport axios from 'axios'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Avatar, Badge, Spin } from 'antd'\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { updateImage } from '../../functions/profile'\r\nimport ImageCropperModal from '../forms/ImageCropperModal'\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n\r\nconst UserImage = ({ image, setImage, setLoading, loading }) => {\r\n\r\n    const { user } = useSelector((state) => ({ ...state }))\r\n    const [public_id, setPublic_id] = useState('')\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [srcImg, setSrcImg] = useState(null);\r\n    //save the resulted image\r\n    const [result, setResult] = useState(null);\r\n    const [files, setFiles] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n\r\n        console.log('re render');\r\n        fileUploadAndResize()\r\n\r\n}, [files])\r\n\r\nconst handleImage = (e) => {\r\n    if (e.target.files.length > 0) {\r\n        setSrcImg(URL.createObjectURL(e.target.files[0]));\r\n        // console.log(e.target.files[0]);\r\n\r\n        setIsModalVisible(true)\r\n\r\n    }\r\n};\r\n\r\n\r\nconst showModal = () => {\r\n    setIsModalVisible(true);\r\n};\r\n\r\nconst onImageEdit = async (imgUrl) => {\r\n\r\n    const response = await fetch(imgUrl);\r\n    const blob = await response.blob();\r\n\r\n    return blob\r\n}\r\n\r\n\r\n\r\n    const fileUploadAndResize = async () => {\r\n        console.log('inside fileUploadAndResize')\r\n        // console.log(e.target.files);\r\n        //resize using npm package react image file resize\r\n        if(files) {\r\n\r\n            // let allUploadedFiles = values.images\r\n            const blobFromUrl = await onImageEdit(result)\r\n            console.log(loading)\r\n    \r\n            setLoading(true)\r\n            console.log('check check', result)\r\n            Resizer.imageFileResizer(blobFromUrl,\r\n                720,\r\n                720,\r\n                'JPEG',\r\n                100,\r\n                0,\r\n                (uri) => {\r\n                    // console.log(uri)\r\n                    axios.post(`${process.env.REACT_APP_API}/profileimage`, { image: uri }, {\r\n                        headers: {\r\n                            authToken: user.token\r\n                        }\r\n                    }).then(res => {\r\n                        console.log('IMG UPLOAD RES DATA', res);\r\n                        console.log(res.data.url)\r\n                        updateImage(user.token, res.data.url)\r\n                            .then(res => {\r\n                                dispatch({\r\n                                    type: 'LOGGED_IN_USER',\r\n                                    payload: { ...user, image: res.data.images }\r\n                                })\r\n                            })\r\n                        setLoading(false)\r\n                        setImage(res.data.url)\r\n                        setPublic_id(res.data.public_id)\r\n    \r\n                    })\r\n                        .catch(err => {\r\n                            setLoading(false)\r\n                            console.log('img upload error');\r\n                        })\r\n                },\r\n                'base64')\r\n\r\n        //     axios.post(`${process.env.REACT_APP_API}/uploaduserpicture`, { image: result }, {\r\n        //         headers: {\r\n        //             authToken: user.token\r\n        //         }\r\n        //     }).then(res => {\r\n        //         console.log('IMG UPLOAD RES DATA', res);\r\n        //         updateImage(user.token, res.data.url)\r\n        //             .then(res => {\r\n        //                 dispatch({\r\n        //                     type: 'LOGGED_IN_USER',\r\n        //                     payload: { ...user, image: res.data.image }\r\n        //                 })\r\n        //             })\r\n        //         setLoading(false)\r\n        //         setImage(res.data.url)\r\n        //         setPublic_id(res.data.public_id)\r\n\r\n        //     })\r\n        //         .catch(err => {\r\n        //             setLoading(false)\r\n        //             console.log('img upload error');\r\n        //         })\r\n\r\n        }\r\n        \r\n        // send back to server to upload to cloudinary\r\n        // set url to images[] in the parent component state - ProductCreate\r\n    }\r\n\r\n\r\n    const handleImageRemove = (public_id) => {\r\n        console.log(public_id)\r\n        setLoading(true)\r\n        // console.log('remove image', public_id)\r\n        axios.post(`${process.env.REACT_APP_API}/deleteprofileimage`, { public_id }, {\r\n            headers: {\r\n                authToken: user ? user.token : ''\r\n            }\r\n        }).then(res => {\r\n            console.log('removed image', res);\r\n            setLoading(false)\r\n            updateImage(user.token, '')\r\n                .then(res => {\r\n                    dispatch({\r\n                        type: 'LOGGED_IN_USER',\r\n                        payload: { ...user, image: res.data.image }\r\n                    })\r\n                })\r\n                .catch(err => console.log(err))\r\n            setImage('')\r\n            document.getElementById('fileInput').value = null\r\n        })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setLoading(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"row\">\r\n\r\n                <Badge count='X' onClick={() => handleImageRemove(public_id)} style={{ cursor: 'pointer' }}>\r\n                    <Avatar src={image ? image : 'https://icon-library.com/images/default-profile-icon/default-profile-icon-24.jpg'} size={100} shape='circle' className='ml-3 mb-2' />\r\n                </Badge>\r\n\r\n                {loading && <Spin indicator={antIcon} className='m-3 text-danger' />}\r\n            </div>\r\n\r\n\r\n            <div className='row'>\r\n                <label className='btn btn-primary ml-3' style={{color:'rgb(87 67 67)'}}>Choose File\r\n                    <input type=\"file\"\r\n                        id='fileInput'\r\n                        hidden\r\n                        accept='images/*'\r\n                        onChange={handleImage}\r\n                    />\r\n                </label>\r\n\r\n                <ImageCropperModal\r\n                    isModalVisible={isModalVisible}\r\n                    setIsModalVisible={setIsModalVisible}\r\n                    showModal={showModal}\r\n                    srcImg={srcImg}\r\n                    setResult={setResult}\r\n                    setFiles={setFiles}\r\n                />\r\n\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default UserImage","import React, { useState, useEffect } from 'react'\r\nimport UserNav from '../../components/nav/UserNav'\r\nimport AdminNav from '../../components/nav/AdminNav'\r\n// import {  } from '../../helpers/user'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport UserImage from '../../components/user/UserImage'\r\nimport {\r\n    getUser,\r\n    updateName,\r\n    updateMob,\r\n    updateAddress,\r\n    deleteAddress\r\n} from '../../functions/profile'\r\n// import { Link } from 'react-router-dom'\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons'\r\nimport { toast } from 'react-toastify'\r\nimport { Link } from 'react-router-dom'\r\nimport { GrEdit } from \"react-icons/gr\";\r\n\r\n\r\nconst Profile = () => {\r\n\r\n    const [name, setName] = useState('')\r\n    console.log(name)\r\n    const [mobile, setMobile] = useState('')\r\n    console.log(mobile)\r\n    const [address, setAddress] = useState('')\r\n    const [addresses, setAddresses] = useState([])\r\n    const [userInfo, setUserInfo] = useState({})\r\n    // const [formAddress, setFormAddress] = useState('')\r\n    const [city, setCity] = useState('')\r\n    const [state, setState] = useState('')\r\n    const [pin, setPin] = useState('')\r\n    // const [values, setValues] = useState([])\r\n    const [image, setImage] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [add, setAdd] = useState(false)\r\n    const [mobError, setMobError] = useState(true)\r\n    const [addressError, setAddressError] = useState({\r\n        address: true,\r\n        state: true,\r\n        pin: true\r\n    })\r\n\r\n    const { user } = useSelector(state => state)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        console.log('hello')\r\n        getUser(user.token).then(res => {\r\n            console.log(res)\r\n            setName(res.data.user.name)\r\n            setMobile(res.data.user.phone)\r\n            setImage(res.data.images)\r\n            // setAddresses(res.data.user.address)\r\n            console.log('profile userEffect', res.data)\r\n        })\r\n\r\n        setUserInfo(userInfo)\r\n\r\n    }, [])\r\n\r\n    const clearForm = () => {\r\n        setAddress('')\r\n        setCity('')\r\n        setState('')\r\n        setPin('')\r\n    }\r\n\r\n    const handleAddBtn = () => {\r\n        setAdd(true)\r\n    }\r\n\r\n\r\n    const handleName = (e) => {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    const handleMobile = (e) => {\r\n        let mobRegex = /^[0-9\\b]*$/\r\n        if (e.target.value.match(mobRegex)) {\r\n            console.log('inside handleMobile')\r\n            if (e.target.value.length > 10)\r\n                e.preventDefault()\r\n            else\r\n                setMobile(e.target.value)\r\n        }\r\n        // console.log('e.target.value.length = ', e.target.value.length)\r\n        if (e.target.value.length === 10 || e.target.value.length === 11) {\r\n\r\n            document.getElementById('numErr').innerText = ''\r\n            setMobError(false)\r\n        }\r\n        else\r\n            setMobError(true)\r\n    }\r\n\r\n    const handleMobBlur = (e) => {\r\n        if (e.target.value.length < 10) {\r\n            document.getElementById('numErr').innerText = 'Mobile number needs to be of 10 digits!'\r\n        }\r\n\r\n    }\r\n\r\n    const editName = () => {\r\n        // console.log('inside edit')\r\n        document.getElementById('name').disabled = false\r\n        document.getElementById('nameSaveBtn').style.display = 'inline'\r\n        document.getElementById('edit').style.display = 'none'\r\n        //input.setAttribute('disabled', '')\r\n    }\r\n\r\n    const editNum = () => {\r\n        document.getElementById('num').disabled = false\r\n        document.getElementById('numSaveBtn').style.display = 'inline'\r\n        document.getElementById('edit').style.display = 'none'\r\n\r\n    }\r\n\r\n    const saveEditName = () => {\r\n        console.log('here')\r\n        updateName(user.token, name)\r\n            .then(res => console.log(res.data))\r\n        document.getElementById('nameSaveBtn').style.display = 'none'\r\n        document.getElementById('name').disabled = true\r\n        document.getElementById('edit').style.display = 'inline'\r\n\r\n\r\n    }\r\n\r\n    const saveEditMob = () => {\r\n        console.log('moberror', mobError)\r\n        if (!mobError) {\r\n            updateMob(user.token, parseInt(mobile))\r\n                .then(res => console.log(res.data))\r\n            document.getElementById('numSaveBtn').style.display = 'none'\r\n            document.getElementById('num').disabled = true\r\n            document.getElementById('edit').style.display = 'inline'\r\n\r\n        }\r\n    }\r\n\r\n    // const submitAddress = (e) => {\r\n    //     e.preventDefault()\r\n\r\n    //     console.log('is pin true?', (pin === true))\r\n\r\n    //     if (pin === '')\r\n    //         document.querySelector('#pinError').innerHTML = 'Pincode cannot be empty!'\r\n    //     if (state === '')\r\n    //         document.querySelector('#stateError').innerHTML = 'Select a state!'\r\n\r\n    //     if (!addressError.address && !addressError.state && !addressError.pin) {\r\n    //         console.log('addressError = ', addressError)\r\n    //         // updateAddress(user.token, { address, city, state, pin: parseInt(pin) })\r\n    //         //     .then(res => {\r\n    //         //         setAdd(false)\r\n    //         //         setAddresses(res.data.address)\r\n    //         //         clearForm()\r\n    //         //     })\r\n    //     }\r\n\r\n    // }\r\n\r\n    // const handleDeleteAddress = (index) => {\r\n    //     if (window.confirm('Are you sure you want to delete this address?')) {\r\n    //         // deleteAddress(user.token, index).then(res => {\r\n    //         //     if (res.data) {\r\n    //         //         // console.log(res.data)\r\n    //         //         setAddresses(res.data.address)\r\n    //         //     }\r\n    //         // })\r\n    //     }\r\n    // }\r\n\r\n    // const handleAddress = () => {\r\n    //     if (address.length < 5) {\r\n    //         document.querySelector('#addressError').innerHTML = 'This field needs to be atleast 5 characters!'\r\n    //         setAddressError({ ...addressError, address: true })\r\n    //     }\r\n    //     else {\r\n    //         document.querySelector('#addressError').innerHTML = ''\r\n    //         setAddressError({ ...addressError, address: false })\r\n    //     }\r\n    // }\r\n\r\n    // const handleState = (e) => {\r\n    //     if (e.target.value) {\r\n    //         document.querySelector('#stateError').innerHTML = ''\r\n    //         setAddressError({ ...addressError, state: false })\r\n    //     }\r\n    //     else {\r\n    //         setAddressError({ ...addressError, state: true })\r\n    //     }\r\n    //     setState(e.target.value)\r\n    // }\r\n\r\n    // const handlePin = (e) => {\r\n\r\n    //     console.log('girrrrrrr')\r\n    //     let numRegex = /^[0-9\\b]*$/\r\n    //     if (e.target.value.match(numRegex)) {\r\n    //         if (e.target.value) {\r\n    //             document.querySelector('#pinError').innerHTML = ''\r\n    //             setAddressError({ ...addressError, pin: false })\r\n    //         }\r\n\r\n    //         setPin(e.target.value)\r\n    //     }\r\n\r\n    //     else {\r\n    //         setAddressError({ ...addressError, pin: true })\r\n    //     }\r\n\r\n    // }\r\n\r\n    // const showAddress = () => {\r\n    //     const states = [\"Andhra Pradesh\",\r\n    //         \"Arunachal Pradesh\",\r\n    //         \"Assam\",\r\n    //         \"Bihar\",\r\n    //         \"Chhattisgarh\",\r\n    //         \"Goa\",\r\n    //         \"Gujarat\",\r\n    //         \"Haryana\",\r\n    //         \"Himachal Pradesh\",\r\n    //         \"Jammu and Kashmir\",\r\n    //         \"Jharkhand\",\r\n    //         \"Karnataka\",\r\n    //         \"Kerala\",\r\n    //         \"Madhya Pradesh\",\r\n    //         \"Maharashtra\",\r\n    //         \"Manipur\",\r\n    //         \"Meghalaya\",\r\n    //         \"Mizoram\",\r\n    //         \"Nagaland\",\r\n    //         \"Odisha\",\r\n    //         \"Punjab\",\r\n    //         \"Rajasthan\",\r\n    //         \"Sikkim\",\r\n    //         \"Tamil Nadu\",\r\n    //         \"Telangana\",\r\n    //         \"Tripura\",\r\n    //         \"Uttarakhand\",\r\n    //         \"Uttar Pradesh\",\r\n    //         \"West Bengal\",\r\n    //         \"Andaman and Nicobar Islands\",\r\n    //         \"Chandigarh\",\r\n    //         \"Dadra and Nagar Haveli\",\r\n    //         \"Daman and Diu\",\r\n    //         \"Delhi\",\r\n    //         \"Lakshadweep\",\r\n    //         \"Puducherry\"]\r\n\r\n\r\n    //     return (\r\n    //         <div className=\"container-fluid\">\r\n    //             {/* {JSON.stringify(userInfo)} */}\r\n    //             <div className=\"row ml-1 mr-2 mt-2 mb-2\">\r\n    //                 {addresses.length > 0 && addresses.map((address, i) => <div className='col-md-6 mr-2 mt-2 mb-2 border shadow-sm pr-2 pt-2 pb-2'>\r\n    //                     <p>{address.address}, {address.city}\r\n    //                         <span class='float-right' onClick={() => handleDeleteAddress(i)} style={{ cursor: 'pointer' }}>\r\n    //                             <DeleteOutlined />\r\n    //                         </span></p>\r\n    //                     <p>{address.state} - {address.pin}</p>\r\n\r\n    //                 </div>)}\r\n    //             </div>\r\n\r\n    //             {(!add && addresses.length < 3) && <div className=''> <button className='btn btn-info' onClick={handleAddBtn} style={{ cursor: 'pointer' }}>Add</button></div>}\r\n\r\n\r\n    //             {(add) && <form >\r\n    //                 <div className=\"form-row flex-column\">\r\n    //                     <div className=\"form-group col-md-6\">\r\n    //                         <textarea className='form-control' placeholder='Address (Area and Street)' rows='4' cols='40' name='address'\r\n    //                             value={address} onChange={(e) => setAddress(e.target.value)} onBlur={handleAddress} />\r\n    //                         <p className='text-danger' id='addressError'></p>\r\n    //                     </div>\r\n    //                     <div className=\"form-group col-md-6\">\r\n    //                         <input className='form-control' type=\"text\" placeholder='City' name='city' value={city} onChange={(e) => setCity(e.target.value)} />\r\n    //                     </div>\r\n    //                     <div className=\"form-group col-md-6\">\r\n    //                         <select className='form-control' name=\"state\" id=\"\" value={state} onChange={handleState}>\r\n    //                             <option value=\"\">Select</option>\r\n    //                             {states.map(s => <option value={`${s}`}> {s} </option>)}\r\n    //                         </select>\r\n    //                         <p className='text-danger' id='stateError'></p>\r\n    //                     </div>\r\n    //                     <div className=\"form-group col-md-6\">\r\n    //                         <input className='form-control' type=\"text\" name=\"pin\" id=\"\" placeholder='Pincode' value={pin} onChange={handlePin} />\r\n    //                         <p className='text-danger' id='pinError'></p>\r\n    //                     </div>\r\n\r\n\r\n    //                 </div>\r\n    //                 <button className='btn btn-success' onClick={submitAddress}>Save</button>\r\n    //             </form>}\r\n    //         </div>\r\n    //     )\r\n    // }\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid\" style={{marginTop:'75px'}}>\r\n            <div className=\"row pr-3 pb-3\">\r\n                <div className=\"col-md-2\">\r\n                {user.role ==='admin' ? <AdminNav/> : <UserNav/>}\r\n                </div>\r\n                <div className=\"col\">\r\n                    <div className=\"p-3\">\r\n                        <div style={{marginLeft:'450px'}}>\r\n                            <UserImage image={image} setImage={setImage} setLoading={setLoading} loading={loading} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-3 form-group col-md-4\">\r\n                        <h5>Name</h5>\r\n                        <div className=\"input-group\">\r\n                            <input className='form-control' type=\"text\" value={name} onChange={handleName} disabled={true} id='name' />\r\n                            <a className='p-2 btn btn-dark float-right' id='edit' onClick={editName}><GrEdit/></a>\r\n                            <button className='ml-5 btn btn-primary' onClick={saveEditName} id='nameSaveBtn' style={{ display: 'none', color:'rgb(87 67 67)' }}>Save</button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"p-3 form-group col-md-4\">\r\n                        <h5>Email</h5>\r\n                        <p>{user.email}</p>\r\n                    </div>\r\n\r\n                    <div className=\"p-3 form-group col-md-4\">\r\n                        <h5>Mobile Number</h5>\r\n                        <div className=\"input-group\">\r\n                            <input className='form-control' style={{backgroundColor:'white'}} type=\"text\" value={mobile} onChange={handleMobile} onBlur={handleMobBlur} disabled={true} id='num' />\r\n                            <a className='p-2 btn btn-dark' id='edit' onClick={editNum}><GrEdit/></a>\r\n                            <button className='ml-5 btn btn-success' onClick={saveEditMob} id='numSaveBtn' style={{ display: 'none' }}>Save</button>\r\n                        </div>\r\n                        <p className='text-danger' id='numErr'></p>\r\n                    </div>\r\n{/* \r\n                    <div className='p-3'>\r\n                        <h5>Address</h5>\r\n                        {showAddress()}\r\n                    </div> */}\r\n\r\n                    {/* <Link to='/user/password'>\r\n                    <button className='btn btn-info'>Change Password</button>\r\n                    </Link> */}\r\n                    \r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../components/nav/AdminNav\";\r\nimport { getUsers,blockUser, unblockUser } from \"../../functions/user\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport Orders from \"../../components/order/Orders\";\r\n// import { PDFDownloadLink } from \"@react-pdf/renderer\";\r\n// import Report from \"../../components/order/Report\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport axios from 'axios';\r\nimport Moment from 'moment';\r\nimport { BsLockFill, BsUnlockFill } from \"react-icons/bs\";\r\n\r\nconst UserManagement = () => {\r\n  const [users, setUsers] = useState([]);\r\n//   const [startDate, setStartDate] = useState();\r\n//   const [endDate, setEndDate] = useState();\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n//   const [filterdata, setFilterData] = useState()\r\n//   console.log(orders);\r\n  // let date = startDate.toISOString() \r\n//   console.log(startDate)\r\n//   console.log(endDate);\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, []);\r\n\r\n  const loadUsers = () =>\r\n    getUsers(user.token).then((res) => {\r\n      console.log(res);\r\n      setUsers(res.data);\r\n    });\r\n\r\n    const block = (id) =>\r\n        blockUser(id).then((res)=>{\r\n            console.log(user.token)\r\n            loadUsers()\r\n            toast.error('User is blocked')\r\n        })\r\n\r\n    const unBlock = (id) =>\r\n        unblockUser(id).then((res)=>{\r\n            loadUsers()\r\n            toast.success(\"User is unblocked\")\r\n        })\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div style={{ marginTop: \"75px\" }}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\">\r\n          <h2>Users</h2>\r\n         \r\n\r\n          <table className=\"table table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>User Id</th>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Status</th>\r\n                <th>Phone</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map((o, k) => (\r\n                <tr key={k}>\r\n                  <td>{o._id}</td>\r\n                  <td>{o.name}</td>\r\n                  <td>{o.email}</td>\r\n                  {o.status?(<td style={{color:'green'}}>Active</td>):(<td style={{color:'red'}}>Blocked</td>)}\r\n                  <td>{o.phone}</td>\r\n                  {o.status?(<td style={{color:'red', cursor:'pointer'}}><BsLockFill onClick={()=>block(o._id)} /></td>):(<td style={{color:'green', cursor:'pointer'}}><BsUnlockFill onClick={()=>unBlock(o._id)}/></td>)}\r\n                  \r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport Login from \"./pages/auth/Login\";\r\nimport Register from \"./pages/auth/Register\";\r\nimport Home from \"./pages/Home\";\r\nimport Header from \"./components/nav/Header\";\r\nimport SideDrawer from \"./components/drawer/SideDrawer\";\r\n\r\nimport RegisterComplete from \"./pages/auth/RegisterComplete\";\r\nimport ForgotPassword from \"./pages/auth/ForgotPassword\";\r\nimport History from \"./pages/user/History\";\r\nimport UserRoute from \"./components/routes/UserRoute\";\r\nimport AdminRoute from \"./components/routes/AdminRoute\";\r\nimport Password from \"./pages/user/Password\";\r\nimport Wishlist from \"./pages/user/Wishlist\";\r\nimport AdminDashboard from \"./pages/admin/AdminDashboard\";\r\nimport CategoryCreate from \"./pages/admin/category/CategoryCreate\";\r\nimport CategoryUpdate from \"./pages/admin/category/CategoryUpdate\";\r\nimport SubCreate from \"./pages/admin/sub/SubCreate\";\r\nimport SubUpdate from \"./pages/admin/sub/SubUpdate\";\r\nimport ProductCreate from \"./pages/admin/product/ProductCreate\";\r\nimport AllProducts from \"./pages/admin/product/AllProducts\";\r\nimport ProductUpdate from \"./pages/admin/product/ProductUpdate\";\r\nimport Product from \"./pages/Product\";\r\nimport CategoryHome from \"./pages/category/CategoryHome\";\r\nimport SubHome from \"./pages/sub/SubHome\";\r\nimport Shop from \"./pages/Shop\";\r\nimport Cart from \"./pages/Cart\";\r\nimport Checkout from \"./pages/Checkout\";\r\nimport CreateCouponPage from \"./pages/admin/coupon/CreateCouponPage\";\r\nimport CreateOfferPage from \"./pages/admin/offer/CreateOfferPage\";\r\nimport Payment from \"./pages/Payment\";\r\n\r\nimport { auth } from \"./firebase\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { currentUser } from \"./functions/auth\";\r\nimport AdminHeader from \"./components/nav/AdminHeader\";\r\nimport SalesReport from './pages/admin/SalesReport'\r\nimport AdminChartPage from \"./pages/admin/AdminChartPage\";\r\nimport Profile from \"./pages/user/Profile\";\r\nimport UserManagement from \"./pages/admin/UserManagement\";\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [userRole,setUserRole] = useState()\r\n\r\n  // to check firebase auth state\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        const idTokenResult = await user.getIdTokenResult();\r\n        console.log(\"user\", user);\r\n        // setUser(user);\r\n\r\n        currentUser(idTokenResult.token)\r\n          .then((res) => {\r\n            setUserRole(res.data.role)\r\n            dispatch({\r\n              type: \"LOGGED_IN_USER\",\r\n              payload: {\r\n                name: res.data.name,\r\n                email: res.data.email,\r\n                token: idTokenResult.token,\r\n                role: res.data.role,\r\n                _id: res.data._id,\r\n              },\r\n            });\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    });\r\n    // cleanup\r\n    return () => unsubscribe();\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      {userRole===\"subscriber\"?\r\n      (<Header/>):(<AdminHeader/>)\r\n      }\r\n      <SideDrawer />\r\n      <div style={{marginTop:'55px'}}>\r\n        <ToastContainer />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/register/complete\" component={RegisterComplete} />\r\n        <Route exact path=\"/forgot/password\" component={ForgotPassword} />\r\n        <UserRoute exact path=\"/user/history\" component={History} />\r\n        <UserRoute exact path=\"/user/password\" component={Password} />\r\n        <UserRoute exact path=\"/user/profile\" component={Profile} />\r\n        <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\r\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\r\n        <AdminRoute exact path=\"/admin/chart\" component={AdminChartPage} />\r\n        <AdminRoute exact path=\"/admin/report\" component={SalesReport} />\r\n        <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\r\n\r\n        <AdminRoute\r\n          exact\r\n          path=\"/admin/category/:slug\"\r\n          component={CategoryUpdate}\r\n        />\r\n        <AdminRoute exact path=\"/admin/sub\" component={SubCreate} />\r\n        <AdminRoute exact path=\"/admin/sub/:slug\" component={SubUpdate} />\r\n        <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\r\n        <AdminRoute exact path=\"/admin/products\" component={AllProducts} />\r\n        <AdminRoute exact path=\"/admin/usermanagement\" component={UserManagement} />\r\n\r\n        <AdminRoute\r\n          exact\r\n          path=\"/admin/product/:slug\"\r\n          component={ProductUpdate}\r\n        />\r\n        <Route exact path=\"/product/:slug\" component={Product} />\r\n        <Route exact path=\"/category/:slug\" component={CategoryHome} />\r\n        <Route exact path=\"/sub/:slug\" component={SubHome} />\r\n        <Route exact path=\"/shop\" component={Shop} />\r\n        <Route exact path=\"/cart\" component={Cart} />\r\n        <UserRoute exact path=\"/checkout\" component={Checkout} />\r\n        <AdminRoute exact path=\"/admin/coupon\" component={CreateCouponPage} />\r\n        <AdminRoute exact path=\"/admin/offer\" component={CreateOfferPage} />\r\n        <UserRoute exact path=\"/payment\" component={Payment} />\r\n      </Switch>\r\n      </div>\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","let initialState = [];\r\n\r\n// load cart items from local storage\r\nif (typeof window !== \"undefined\") {\r\n  if (localStorage.getItem(\"cart\")) {\r\n    initialState = JSON.parse(localStorage.getItem(\"cart\"));\r\n  } else {\r\n    initialState = [];\r\n  }\r\n}\r\n\r\nexport const cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { userReducer } from \"./userReducer\";\r\nimport { searchReducer } from \"./searchReducer\";\r\nimport { cartReducer } from \"./cartReducer\";\r\nimport { drawerReducer } from \"./drawerReducer\";\r\nimport { couponReducer } from \"./couponReducer\";\r\nimport { CODReducer } from \"./CODReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  search: searchReducer,\r\n  cart: cartReducer,\r\n  drawer: drawerReducer,\r\n  coupon: couponReducer,\r\n  COD: CODReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","export const userReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"LOGGED_IN_USER\":\r\n      return action.payload;\r\n    case \"LOGOUT\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const searchReducer = (state = { text: \"\" }, action) => {\r\n  switch (action.type) {\r\n    case \"SEARCH_QUERY\":\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const drawerReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case \"SET_VISIBLE\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const couponReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case \"COUPON_APPLIED\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const CODReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case \"COD\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootReducer from \"./reducers\";\r\n\r\n// store\r\nconst store = createStore(rootReducer, composeWithDevTools());\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  // </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/laptop.ece531e7.png\";"],"sourceRoot":""}